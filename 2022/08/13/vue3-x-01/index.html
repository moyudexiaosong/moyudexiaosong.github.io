

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=light>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon.jpg">
  <link rel="icon" href="/img/icon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Vue3.x 基础语法一、初识Vue什么是vuevue是一套用于构建用户界面的渐进式框架。  渐进式：可以用不同的小功能组装成一个大功能。  它是一个开源的js框架，内部对js进行了封装，也是单页面应用的web应用框架。   单页面应用：只有一个html 的应用，所有的功能都是用js在一个html中去操作。  什么是MVVM框架MVC： model数据层    view 视图层    cotro">
<meta property="og:type" content="article">
<meta property="og:title" content="vue3.x 基础语法篇">
<meta property="og:url" content="http://example.com/2022/08/13/vue3-x-01/index.html">
<meta property="og:site_name" content="摸鱼之家">
<meta property="og:description" content="Vue3.x 基础语法一、初识Vue什么是vuevue是一套用于构建用户界面的渐进式框架。  渐进式：可以用不同的小功能组装成一个大功能。  它是一个开源的js框架，内部对js进行了封装，也是单页面应用的web应用框架。   单页面应用：只有一个html 的应用，所有的功能都是用js在一个html中去操作。  什么是MVVM框架MVC： model数据层    view 视图层    cotro">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/photo21.jpeg">
<meta property="article:published_time" content="2022-08-13T11:02:54.000Z">
<meta property="article:modified_time" content="2022-09-12T16:06:06.328Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/photo21.jpeg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>vue3.x 基础语法篇 - 摸鱼之家</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"AwHBUAjSP1GvDVpiBgxfS2Pg-gzGzoHsz","app_key":"kMsGLN3hzkQJuLrmqQBgquFF","server_url":"https://awhbuajs.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>快乐老家</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                档案馆
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                目录
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/photo21.jpeg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="vue3.x 基础语法篇"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-13 19:02" pubdate>
          August 13, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          51k words
        
      </span>
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">vue3.x 基础语法篇</h1>
            
              <p class="note note-info">
                
                  
                    Last updated on 7 days ago
                  
                
              </p>
            
            <div class="markdown-body">
              
              <hr>
<h1 id="Vue3-x-基础语法"><a href="#Vue3-x-基础语法" class="headerlink" title="Vue3.x 基础语法"></a>Vue3.x 基础语法</h1><h3 id="一、初识Vue"><a href="#一、初识Vue" class="headerlink" title="一、初识Vue"></a>一、初识Vue</h3><h4 id="什么是vue"><a href="#什么是vue" class="headerlink" title="什么是vue"></a>什么是vue</h4><p>vue是一套用于构建用户界面的渐进式框架。</p>
<blockquote>
<p>渐进式：可以用不同的小功能组装成一个大功能。</p>
</blockquote>
<p>它是一个开源的js框架，内部对js进行了封装，也是单页面应用的web应用框架。 </p>
<blockquote>
<p>单页面应用：只有一个html 的应用，所有的功能都是用js在一个html中去操作。</p>
</blockquote>
<h4 id="什么是MVVM框架"><a href="#什么是MVVM框架" class="headerlink" title="什么是MVVM框架"></a>什么是MVVM框架</h4><p>MVC： model数据层    view 视图层    cotrol控制器。</p>
<p>连接view和model层，并做一些逻辑处理。mvc更适合后端的开发。</p>
<p>MVVM：model数据    view dom渲染用户界面 vm：view-model 处理视图和数据的中间层</p>
<h4 id="vue3的新特性"><a href="#vue3的新特性" class="headerlink" title="vue3的新特性"></a>vue3的新特性</h4><ol>
<li>更小。精简的库带来一个轻量级的包，只有15K，比vue2小了50%</li>
<li>更快。很多框架都进行了全面的升级，重写了虚拟dom，有效提升了速度</li>
<li>通过composition API 将各个功能的代码组合在一起，同时提供出色的ts支持，代码更简洁，易于维护。</li>
</ol>
<h4 id="vue-的安装"><a href="#vue-的安装" class="headerlink" title="vue 的安装"></a>vue 的安装</h4><ol>
<li>在页面上以cdn的包的形式直接引入js，就像引入jquery一样</li>
<li>下载vue文件到本地引入</li>
<li>通过npm的方式引入</li>
<li>通过vite构建工具引入</li>
</ol>
<h4 id="vue的使用"><a href="#vue的使用" class="headerlink" title="vue的使用"></a>vue的使用</h4><p>1.通过cdn引入，创建dom容器</p>
<p>2.创建一个组件，组件就是vue拥有的一段比较完整功能的业务逻辑。用代码表示组件就是一个对象</p>
<p>3.实例化vue，把生成的vue实例挂载到真实dom上面，dom就可以使用vue的语法或者属性，使用vue的mount方法挂载。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">const app = Vue.createApp(HelloVue).mount(&#x27;#app&#x27;)<br></code></pre></td></tr></table></figure>
<p>4.在dom上使用字面量的形式展示数据，里面除了写数据以外，还可以写单行的js表达式，比如 + - * / 三元表达式</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div id=&quot;app&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<h4 id="创建Vite项目"><a href="#创建Vite项目" class="headerlink" title="创建Vite项目"></a>创建Vite项目</h4><p>第一步：创建vite项目</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">npm init vite@latest app01 --template vue<br></code></pre></td></tr></table></figure>
<p>第二步：进入app01文件夹 <code>npm install</code> 安装项目依赖</p>
<p>第三步：<code>npm run dev</code> 运行项目</p>
<p><strong>.vue文件组件</strong></p>
<p>.vue结尾的就是我们的vue组件，vite会在我们开发完以后把它打包。我们平时开发，都是开发一个一个的.vue文件。</p>
<p><strong>.vue 文件的注释：</strong></p>
<p>script setup：script标签里面写js代码，setup属性表示该js是一个setup函数</p>
<p>template:  vue的模板文件，一个.vue文件只能有一个顶层的template标签，但是里面可以包含多个template</p>
<p>style scope.: style标签是写样式， scope属性表示样式是局部样式，只能在这个组件内使用。style标签一个vue组件里可以有多个。</p>
<p>lang可以指定编译语言，比如sass，（需要安装sass：<code>npm i sass -D</code>）</p>
<p>可以引入外部的css文件 style src = “xxx.sass”</p>
<h4 id="reander函数"><a href="#reander函数" class="headerlink" title="reander函数"></a>reander函数</h4><p>render函数可以渲染解析编译器的模板，内部是需要返回h() 函数创建的dom</p>
<p>h() 函数是根据js生成对应的dom，也是vue虚拟dom的一个第三方库提供的方法</p>
<p><strong>子组件向父组件传递参数</strong></p>
<p>方法1：通过父组件传递函数作为属性给子组件，子组件调用函数传递参数（在mounted中调用）</p>
<p>父组件通过属性给子组件传递函数</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;HelloWorld :sendMsg=&quot;getMsg&quot;/&gt;<br>   methods:&#123;<br>    getMsg(data)&#123;<br>      console.log(data)<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>
<p>子组件通过props接收，并且在mounted中调用</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">data()&#123;<br>    return &#123;<br>      msg:&#x27;子组件数据&#x27;<br>    &#125;<br>  &#125;,<br>  props:&#123;<br>    sendMsg:&#123;<br>      type:Function<br>    &#125;<br>  &#125;,<br>  mounted()&#123;<br>    this.sendMsg(this.msg)<br>  &#125;<br></code></pre></td></tr></table></figure>
<p>方法2：通过事件触发的方式向父组件传递参数（发布订阅模式）</p>
<p>第一步：在子组件上绑定事件和事件触发函数</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;HelloWorld @getValue=&quot;getValue&quot;/&gt;<br></code></pre></td></tr></table></figure>
<p>第二步：子组件通过$emit触发函数传递参数</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">mounted()&#123;<br>    this.$emit(&#x27;getValue&#x27;,this.msg)<br>  &#125;<br></code></pre></td></tr></table></figure>
<h4 id="vue3新增内容"><a href="#vue3新增内容" class="headerlink" title="vue3新增内容"></a>vue3新增内容</h4><p>vue3行政setup函数，取代了beforecreate和created生命周期函数。</p>
<p>vue3的setup函数里没有this指向，也没有data和methods等，vue3的逻辑代码都是写在setup里。</p>
<p>vue3通过ref函数去返回一个响应式的可变对象，有一个value属性指向响应内部的值，修改值就给value属性赋值。</p>
<p>setup内部的数据或者方法，需要以对象的形式返回出去，template模板才能够使用它。</p>
<p>vue3的生命周期是从vue中引入的生命周期函数，仍然是写在setup函数中。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">import &#123;ref,onMounted&#125; from &#x27;vue&#x27;<br>    export default &#123;<br>        setup()&#123;<br>            let count = ref(0)<br>            let add = ()=&gt;&#123;<br>                count.value ++<br>            &#125;<br>            onMounted(()=&gt;&#123;<br>                console.log(1)<br>            &#125;)<br>            return &#123;<br>                count,add<br>            &#125;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>
<p>vue3的简写：在script标签添加setup，表示script里面的代码都是在setup函数里，并且里面的属性和方法都是直接return到外部的。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;script setup&gt;<br>    import &#123;ref,onMounted&#125; from &#x27;vue&#x27;<br>    let count = ref(0)<br>    let add = ()=&gt;&#123;<br>        count.value ++<br>    &#125;<br>    onMounted(()=&gt;&#123;<br>        console.log(1)<br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<h4 id="vue2-6以后的插槽变化"><a href="#vue2-6以后的插槽变化" class="headerlink" title="vue2.6以后的插槽变化"></a>vue2.6以后的插槽变化</h4><p>使用插槽需要v-slot：插槽名，slot没有指定插槽名的则是默认插槽default</p>
<p>slot插槽可以传值，有固定的语法套路，父组件中可以使用子组件的值</p>
<p>子组件定义插槽</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;slot&gt;&lt;/slot&gt;<br> &lt;slot name=&quot;footer&quot; :ctx=&quot;msg&quot;&gt;&lt;/slot&gt;<br></code></pre></td></tr></table></figure>
<p>父组件 data是子组件上所有属性的集合</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;vue3ComVue&gt;<br>  &lt;template v-slot:footer=&quot;data&quot;&gt;<br>    &lt;h2&gt;我是footer&lt;/h2&gt;<br>    &lt;div&gt;&#123;&#123;data.ctx.name&#125;&#125;&lt;/div&gt;<br>  &lt;/template&gt;<br>  &lt;template v-slot:default&gt;<br>    &lt;div&gt;我是default&lt;/div&gt;<br>  &lt;/template&gt;<br>&lt;/vue3ComVue&gt;<br></code></pre></td></tr></table></figure>
<h4 id="Setup语法糖"><a href="#Setup语法糖" class="headerlink" title="Setup语法糖"></a>Setup语法糖</h4><p>setup语法糖：使语言更加清晰，方便，更符合编程习惯。</p>
<p>使用setup语法糖，script直接引入组件就可以在template模板里使用，无需注册</p>
<p>setup语法糖，使用props，需要使用defineProps( 编译器宏)，不用import引入，直接调用，可以定义props，获取外部传递的属性。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;script setup&gt;<br> const props = defineProps(&#123;<br>        name:String,<br>        age:Number<br>    &#125;)<br>console.log(props.name,props.age)<br> &lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>setup语法糖中使用watch：</p>
<p>vue3中的watch是一个函数，需要从vue中引入,watch可以监听多个属性。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">watch</span><span class="hljs-params">([value1,value2...],(oldValue,newValue)</span></span>=&gt;&#123;&#125;)<br><span class="hljs-function"><span class="hljs-title">watch</span><span class="hljs-params">([count],(oldValue,newValue)</span></span>=&gt;&#123;<br>        console<span class="hljs-selector-class">.log</span>(<span class="hljs-string">&#x27;data:&#x27;</span>,newValue) <span class="hljs-comment">// newValue也是放在数组中</span><br>    &#125;)<br></code></pre></td></tr></table></figure>
<p>vue3中的计算属性的使用：</p>
<p>vue3中的计算属性是一个函数，需要从vue中引入，返回值就是计算属性的值。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">let countCom = computed(()=&gt;count.value + &#x27;元&#x27;)<br></code></pre></td></tr></table></figure>
<p>vue3中的ref获取元素dom</p>
<p>在元素上面绑定ref= ‘xxx1’ , 在setup中定义相同的变量名，在元素挂载以后，即可获取refs对应的dom元素</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div ref=&quot;dom111&quot;&gt;我是dom111&lt;/div&gt;<br> let dom111 = ref(null)<br>  onMounted(()=&gt;&#123;<br>        console.log(dom111.value)<br>    &#125;)<br></code></pre></td></tr></table></figure>
<h3 id="二、框架"><a href="#二、框架" class="headerlink" title="二、框架"></a>二、框架</h3><h4 id="组件的data函数"><a href="#组件的data函数" class="headerlink" title="组件的data函数"></a>组件的data函数</h4><p>在创建组件的实例化过程中会调用这个函数，返回一个对象。vue会通过响应式系统将其包裹起来，以 $data的形式存储在组件实例中。</p>
<h4 id="组件的methods属性"><a href="#组件的methods属性" class="headerlink" title="组件的methods属性"></a>组件的methods属性</h4><p>methods可以创建组件的方法，methods的属性值是一个对象。this表示组件实例，data返回的数据都可以通过this.xx去获取到。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">methods: &#123;<br>              inc()&#123;<br>                this.count ++<br>              &#125;  <br>            &#125;,<br></code></pre></td></tr></table></figure>
<h4 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h4><p>带有v-前缀的特殊属性，不同的指令有不同的功能</p>
<p>v-once 让dom元素只渲染一次，后续如果数据有变化则不会改变。</p>
<p>v-html 可以渲染html标签</p>
<p>v-bind 可以绑定属性，v-bind 可以简写为一个冒号 ：</p>
<p>动态参数：vue3增加了动态参数，可以用[] 表示动态参数</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;p :[key]=&quot;value&quot;&gt;1213&lt;/p&gt;<br></code></pre></td></tr></table></figure>
<p>v-model 实现数据的双向绑定（一边输入一边显示），一般是用在input等输入的元素上。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;input type=&quot;text&quot; v-model=&quot;value&quot;&gt;<br>&lt;p&gt;&#123;&#123;value&#125;&#125;&lt;/p&gt;<br></code></pre></td></tr></table></figure>
<p>v-on监听dom的事件，(绑定事件)，事件来源于methods定义的函数，v-on可以简写成@</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;button @click=&quot;inc&quot;&gt;&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<h4 id="Vue3框架"><a href="#Vue3框架" class="headerlink" title="Vue3框架"></a>Vue3框架</h4><p>引入Vue3的框架之后，先在<code>&lt;body&gt;</code>标签中，加入一个<code>&lt;div&gt;</code>层,并给他一个<code>id=&quot;app&quot;</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Hello World&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    Vue.createApp(&#123;<br>        template: &#x27;&lt;div&gt;Hello World&lt;/div&gt;&#x27;<br>    &#125;).mount(&quot;#app&quot;)<br>&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>其中，Vue的语法为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;   <span class="hljs-comment">//创建一个Vue实例，简单理解就说，我要使用Vue了</span><br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;Hello World&lt;/div&gt;&#x27;</span>   <span class="hljs-comment">// template是模板的意思，就是在JS里写html代码</span><br>&#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)   <span class="hljs-comment">//这个模板需要放一个位置，也就是说挂载，挂载到`id=app`的DOM上</span><br></code></pre></td></tr></table></figure>
<ol>
<li>用<code>Vue.</code>创建一个实例对象，符合命名规范即可</li>
<li>用<code>template</code>创建一个模版，里面是<code>html</code>代码</li>
<li><code>.mount</code>是模版要挂载的位置</li>
</ol>
<h4 id="事件触发多个绑定函数的方法"><a href="#事件触发多个绑定函数的方法" class="headerlink" title="事件触发多个绑定函数的方法"></a>事件触发多个绑定函数的方法</h4><p>每个函数都要加小括号，用逗号隔开</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;button @click=&quot;inc(),inc2()&quot;&gt;click&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<h4 id="vue事件修饰符v-on"><a href="#vue事件修饰符v-on" class="headerlink" title="vue事件修饰符v-on"></a>vue事件修饰符v-on</h4><p>处理事件，提供了一些默认的操作。常用的有处理事件冒泡和默认行为</p>
<blockquote>
<p>冒泡事件就是从当前事件（事件源）一直执行到最外层事件</p>
<p>为什么要阻止冒泡？</p>
<p>很简单的一个例子，盒子one中有一个盒子two，盒子two中有一个button上面绑着事件a，而这个相同事件恰巧在盒子one和two中也有，当button事件被触发时，one和two中的事件也会被触发，所以我们需要进行阻止。</p>
</blockquote>
<p>事件修饰符可以串联使用</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">@click.top = xxx // 阻止事件冒泡<br>@click.prevent = xxx. //阻止默认行为<br></code></pre></td></tr></table></figure>
<p>键盘事件修饰符：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">@keydown.a // a键按下触发<br></code></pre></td></tr></table></figure>
<h4 id="条件语句v-if"><a href="#条件语句v-if" class="headerlink" title="条件语句v-if"></a>条件语句v-if</h4><p>v-if指令，为true的时候渲染，为false的时候不渲染dom</p>
<p>多个条件的话使用 v-if、v-else-if、v-else</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div v-if=&quot;name === 123&quot;&gt;123 &lt;/div&gt;<br>&lt;div v-else-if=&quot;name === 234&quot;&gt;234&lt;/div&gt;<br>&lt;div v-else&gt;hhhh&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>v-show：和v-if有点像，为true则显示元素，为fasle则隐藏元素。</p>
<p>区别：v-show是通过css的display控制元素的显示和隐藏的，而v-if是通过是否加载（渲染）dom来实现的。</p>
<p>对于需要频繁切换显示隐藏的，使用v-show可以提高性能</p>
<p>v-for：循环渲染语句指令</p>
<p>for循环需要绑定key值，item是list的元素。用in去遍历list数组</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div v-for=&quot;(item,index) in list&quot; ::key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/div&gt;<br> // ===<br>  list:[&#x27;js&#x27;,&#x27;node&#x27;,&#x27;vue3&#x27;,&#x27;react&#x27;]<br></code></pre></td></tr></table></figure>
<p>遍历对象：</p>
<p>value对象属性，key对象的键，index是索引值</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div v-for=&quot;(value,key,index) in obj&quot; ::key=&quot;value&quot;&gt;&#123;&#123;index&#125;&#125;=&#123;&#123;key&#125;&#125;==&#123;&#123;value&#125;&#125;&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>冒号左边是对象，右边是函数，该运算符会自动将左边的对象，作为上下文环境（即this对象），绑定到右边的函数上面。</p>
<p><strong>双冒号左边为空，右边是一个对象的方法，则等于将该方法绑定在该对象上面。</strong></p>
</blockquote>
<p>迭代整数</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div v-for=&quot;i in 5&quot;&gt;&#123;&#123;i&#125;&#125;&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<h4 id="vue的样式绑定v-bind"><a href="#vue的样式绑定v-bind" class="headerlink" title="vue的样式绑定v-bind"></a>vue的样式绑定v-bind</h4><p><strong>class属性绑定</strong></p>
<p>方法1：直接写对象</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div :class=&quot;&#123;box:true&#125;&quot;&gt;box&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>方法2：class绑定一个变量，这个变量是一个对象</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div :class=&quot;classObj&quot;&gt;classBox&lt;/div&gt;<br>// ====显示<br> classObj:&#123;name:true,box2:true,box3:false&#125;,<br></code></pre></td></tr></table></figure>
<p>方法3：class绑定数组，则数组中所有元素都是class的类名，数组的元素支持三元表达式</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div :class=&quot;[isTrue?&#x27;js&#x27;:&#x27;&#x27;,&#x27;node&#x27;,&#x27;vue3&#x27;,&#x27;react&#x27;]&quot;&gt;list&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>v-on绑定的class可以和静态的class共存。</p>
<p><strong>style属性绑定</strong></p>
<p>方法1：对象形式绑定style，此时-要变成驼峰</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div :style=&quot;&#123;fontSize:&#x27;18px&#x27;,color:&#x27;red&#x27;&#125;&quot;&gt;miaomiaomiap&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>方法2：数组对象的形式</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div :style=&quot;[&#123;color:&#x27;red&#x27;&#125;,&#123;background:&#x27;yellow&#x27;&#125;]&quot;&gt;7777777&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<h4 id="computed计算属性"><a href="#computed计算属性" class="headerlink" title="computed计算属性"></a>computed计算属性</h4><p>computed计算属性可以视为和data的数据一样，可以读取和赋值。</p>
<p>computed的计算结果会被缓存，如果监听数据没有变化，则用的是缓存的数据。</p>
<p>下面的就是double计算属性是依赖于count的，如果count没有变化，则double就不会重新渲染。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div id=&quot;app&quot;&gt;<br>   &lt;p&gt; &#123;&#123;count&#125;&#125; &lt;/p&gt;<br>   &lt;p&gt; &#123;&#123;double&#125;&#125; &lt;/p&gt;<br>&lt;/div&gt;<br>data()&#123;<br>    return &#123;<br>        count:1 <br>    &#125;<br>&#125;,<br>computed:&#123;<br>    double()&#123;<br>        return this.count*2<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p><strong>计算属性的读写</strong></p>
<p>一般计算属性只会读取，所以用的简写，如果要设置计算属性，则计算属性要写成对象形式</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs text">computed:&#123;<br>    double:&#123;<br>        get()&#123;<br>            return this.count*2<br>        &#125;,<br>        set(value)&#123;<br>            this.count = value<br>        &#125;  <br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<h4 id="监听属性"><a href="#监听属性" class="headerlink" title="监听属性"></a>监听属性</h4><p>watch监听属性：可以观察和响应vue实例的数据变动</p>
<p>watch一次只能监听一个数据的状态，监听某个data属性，就在watch中把他写成方法</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs text">data()&#123;<br>    return &#123;<br>        count:1 <br>    &#125;<br>&#125;,<br>watch:&#123;<br>    count(value)&#123;<br>        if(value &gt; 10)&#123;<br>            console.log(&#x27;数量不能大于10！&#x27;)<br>            this.count = 0<br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>watch里面不要轻易修改监听的数据，容易陷入无限循环。</p>
<p>watch里面可以异步加载，比如发送ajax请求</p>
<p>watch主要是对监听的数据发生变化后，去进行一些操作</p>
<h4 id="watch和computed的区别"><a href="#watch和computed的区别" class="headerlink" title="watch和computed的区别"></a>watch和computed的区别</h4><p><strong>计算属性computed</strong></p>
<ol>
<li>支持缓存，只有依赖数据发生改变，才会重新进行计算</li>
<li>不支持异步，当computed内有异步操作时无效，无法监听数据的变化</li>
<li>如果一个属性是由其他属性计算而来的，这个属性依赖其他属性，是一个多对一或者一对一，使用computed</li>
<li>computed的简写是一个函数，函数走的是get方法；computed如果是对象的写法，属性都有一个get和一个set方法，当数据变化时，调用set方法</li>
<li>一些重复使用的数据或复杂及费时的运算时，把它放入computed中进行计算, 然后会在computed中缓存起来, 下次就可以直接获取</li>
</ol>
<p><strong>watch</strong></p>
<ol>
<li>watch它是一个对data的数据监听回调, 当依赖的data的数据变化时, 会执行回调。在回调中会传入newVal和oldVal两个参数。当在data中的某个数据发生变化时, 我们需要做一些操作，就使用watch。watch普通监听和深度监听不支持缓存，数据变，直接会触发相应的操作</li>
<li>immediate：组件加载立即触发回调函数执行， deep: 深度监听watch支持异步。</li>
</ol>
<p><strong>watch 和 computed的区别：</strong></p>
<p>相同点：他们两者都是观察页面数据变化的。</p>
<p>不同点：computed只有当依赖的数据变化时才会计算, 当数据没有变化时, 它会读取缓存数据。 watch每次都需要执行函数。watch更适用于数据变化时的异步操作。</p>
<p>watch更注重数据变化时执行的过程，可以没有返回值作为结果</p>
<p>computed更注重数据变化得出的结果，一定要有返回值。</p>
<h4 id="数据绑定v-model"><a href="#数据绑定v-model" class="headerlink" title="数据绑定v-model"></a>数据绑定v-model</h4><p>form表单的值都是通过v-model绑定值到数据，数据是双向绑定的。</p>
<p>input输入框默认触发的是input事件</p>
<p>默认的input的事件该为change事件：加一个lazy修饰符 v-model.lazy = xxx</p>
<p>清除前后空格：trim修饰符 v-model.trim = xxx</p>
<p>v-model绑定radio单选框获取的是value值，给数据默认值可以控制默认选中的项。默认触发的是change事件</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;1&quot; v-model=&quot;sex&quot;&gt;男<br>&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;2&quot; v-model=&quot;sex&quot;&gt;女<br></code></pre></td></tr></table></figure>
<p><strong>v-model绑定checkebox多选框</strong></p>
<p>v-model绑定多选框的时候，绑定的是一个数组。默认触发的是change事件</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;input type=&quot;checkbox&quot; v-model=&quot;like&quot; value=&quot;吃饭&quot;&gt;吃饭<br>&lt;input type=&quot;checkbox&quot; v-model=&quot;like&quot; value=&quot;睡觉&quot;&gt;睡觉<br></code></pre></td></tr></table></figure>
<p><strong>v-model绑定selsect下拉框</strong></p>
<p>v-model绑定在select上，单选的是一个字符串</p>
<p><strong>自定义指令</strong></p>
<p>directive可以自定义指令，自定义指令的名称不需要加v-，调用的时候加。mounted是指令挂载到dom的时候执行自定义指令的钩子函数的参数 el 挂载的dom对象，binding 一个对象，包含了指令相关的一些属性. vnode 真实的dom对象相关信息</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div id=&quot;app&quot;&gt;<br>    &lt;input type=&quot;text&quot; v-focus&gt;<br>   &lt;/div&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@3&quot;&gt;&lt;/script&gt;<br>    &lt;script&gt;<br>        const app = Vue.createApp(&#123;&#125;)<br>        app.directive(&#x27;focus&#x27;,&#123;<br>            mounted(el,binding,vnode) &#123;<br>                console.log(el,binding,vnode);<br>                el.focus()<br>            &#125;,<br>        &#125;)<br>        app.mount(&#x27;#app&#x27;)<br>    &lt;/script&gt;<br></code></pre></td></tr></table></figure>
<h3 id="三、示例"><a href="#三、示例" class="headerlink" title="三、示例"></a>三、示例</h3><h4 id="示例1：Vue3编写的计数器"><a href="#示例1：Vue3编写的计数器" class="headerlink" title="示例1：Vue3编写的计数器"></a>示例1：Vue3编写的计数器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;   <br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    counter:1	//在data()中声明counter变量<br>                &#125;<br>            &#125;,<br>            mounted()&#123;<br>                setInterval(()=&gt;&#123;<br>                    this.counter+=1<br>                &#125;,1000)<br>            &#125;,//只要页面一加载，就会执行这个步骤<br>            template:&#x27;&lt;div&gt;&#123;&#123;counter&#125;&#125;&lt;/div&gt;&#x27;	//显示变量的值<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>mounted( )中实现自增</strong></p>
<p><code>mounted</code>是一个声明周期钩子函数，可以把他想成是页加载渲染完成，<strong>自动执行</strong>，不用调用的方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;页面加载完成后-自动执行&#x27;</span>)<br>    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">counter</span> += <span class="hljs-number">1</span>   <span class="hljs-comment">//这个this.counter指向的就是data中的counter</span><br>        <span class="hljs-comment">//this.$data.counter +=1   //效果相同</span><br>    &#125;, <span class="hljs-number">1000</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这节就是你要转变的一个观点，从面向DOM编程，改为面向数据编程。</p>
<h4 id="示例2：来宾欢迎语展示"><a href="#示例2：来宾欢迎语展示" class="headerlink" title="示例2：来宾欢迎语展示"></a>示例2：来宾欢迎语展示</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    content:&quot;&quot;,<br>                    setMeal:&#x27;芝士蛋糕 黄金脆皮鸡 螺蛳粉 火锅&#x27;,<br>                    isShowMeal:false,	<br>                  	//声明了三个变量，分别为文本显示内容，菜单栏，是否显示<br>                &#125;<br>            &#125;,<br>            methods:&#123;<br>                welcomBtnClick()&#123;<br>                    this.content=&quot;你来啦亲&quot;<br>                &#125;,<br>                byeBtnClick()&#123;<br>                    this.content=&quot;怎么又走了&quot;<br>                &#125;,<br>                showOrHide()&#123;<br>                    this.isShowMeal=!this.isShowMeal<br>                &#125;,<br>            &#125;,<br>            template:`<br>            &lt;div&gt;<br>                &lt;div&gt;&#123;&#123;content&#125;&#125;&lt;/div&gt;<br>                //给两个按钮用@绑定事件<br>                &lt;button v-on:click=&quot;welcomBtnClick&quot;&gt;有人来了&lt;/button&gt;&amp;nbsp;<br>                &lt;button v-on:click=&quot;byeBtnClick&quot;&gt;有人走了&lt;/button&gt;<br>                &lt;div v-if=&quot;isShowMeal&quot;&gt;&#123;&#123;setMeal&#125;&#125;&lt;/div&gt;<br>                &lt;button v-on:click=&quot;showOrHide&quot;&gt;显示/隐藏菜单&lt;/button&gt;<br>            &lt;/div&gt;<br>            `<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>显示和隐藏服务</strong></p>
<p>我们需要新生成一个套餐的变量<code>setMeal</code>，然后还要有一个是否展示的变量<code>isShowMeal</code>。有了这个变量之后，我们还需要有一个能改变<code>isShowMeal</code>的响应方法<code>showOrHideBtnClick</code>.用来控制菜单的显示和隐藏。</p>
<p><code>v-if</code>的作用是如果值为真，就显示这个DOM元素，如果为假，就不显示这个元素。</p>
<h4 id="示例3：Vue3列表和循环-制作菜单"><a href="#示例3：Vue3列表和循环-制作菜单" class="headerlink" title="示例3：Vue3列表和循环-制作菜单"></a>示例3：Vue3列表和循环-制作菜单</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    list:[&#x27;1-芝士蛋糕&#x27;,&#x27;2-章鱼小丸子&#x27;,&#x27;3-车仔面&#x27;],<br>                    inputValue:&#x27;&#x27;<br>                &#125;<br>            &#125;,<br>            methods:&#123;<br>                handleAddItem()&#123;<br>                    this.list.push(this.inputValue)<br>                    this.inputValue=&#x27;&#x27;<br>                &#125;<br>            &#125;<br>            ,<br>            template:`<br>            &lt;div&gt;<br>                &lt;input v-model=&quot;inputValue&quot; /&gt; <br>                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;<br>                &lt;ul&gt;<br>                    &lt;li v-for=&quot;item of list&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;<br>                &lt;/ul&gt;<br>                &lt;ul&gt;<br>                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;(&#123;&#123;index&#125;&#125;)&#123;&#123;item&#125;&#125;&lt;/li&gt;<br>                &lt;/ul&gt;<br>            &lt;/div&gt;<br>            `<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>声明数组并循环</strong></p>
<p>在<code>createrApp()</code>方法里增加一个<code>data()</code>方法，声明<code>list[]</code>数组。有了数组，需要在模板中循环出来。这个需要用到<code>v-for</code>指令.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;item of list&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这句代码的意思是，我要进行遍历，遍历的列表是<code>list</code>，<code>list</code>中的每一项我会放到声明的item项中，然后使用字面量在模板中进行展示。</p>
<p><code>v-for</code>指令还有一个索引值，可以如下写法，打印出索引值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;li v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(item,index) of list&quot;</span>&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;<br></code></pre></td></tr></table></figure>
<p><strong>动态增加菜单</strong></p>
<p>先来做一个简单的效果，就是点击按钮后，就增加一个菜到列表中。先去掉数组中的值，然后来写一个按钮，按钮绑定<code>handleAddItem</code>事件。代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">list</span>: []<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">methods</span>: &#123;<br>            <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;&quot;</span>)<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">            &lt;div&gt;</span><br><span class="hljs-string">                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;</span><br><span class="hljs-string">                &lt;ul&gt;</span><br><span class="hljs-string">                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">                &lt;/ul&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>现在增加的<code>菜</code>都是一样的，而我们最终的目的是能够自定义的增加菜单。这个时候我们就需要一个<code>input</code>输入框了，而且需要用<code>v-model</code>指令，进行绑定。代码如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-comment">//声明input输入框中的值和自定义列表</span><br>                <span class="hljs-attr">inputValue</span>: <span class="hljs-string">&#x27;&#x27;</span>,  <br>                <span class="hljs-attr">list</span>: []   <br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">methods</span>: &#123;<br>            <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-comment">//将输入框中的值添加到列表中</span><br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span>)<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">            &lt;div&gt;</span><br><span class="hljs-string">                &lt;!--把输入框中的值双向绑定--&gt;</span><br><span class="hljs-string">                &lt;input v-model=&quot;inputValue&quot; /&gt;</span><br><span class="hljs-string">                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;</span><br><span class="hljs-string">                &lt;ul&gt;</span><br><span class="hljs-string">                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">                &lt;/ul&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>这时候我们就可以根据我们的喜欢增加菜了，比如增加一个<code>烤乳猪</code>、<code>螺蛳粉</code>。</p>
<p>现在这个效果还是不太完美，在实际工作中，如果我们增加完成后，希望<code>&lt;input/&gt;</code>的值为空。这个时候你要再明白Vue中的一个特性，就是双向数据绑定。也就是这时候我们改变<code>inputValue</code>的值，页面文本框的内容也会被清空。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span> = <span class="hljs-string">&#x27;&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<h4 id="示例4：Vue3数据驱动思想"><a href="#示例4：Vue3数据驱动思想" class="headerlink" title="示例4：Vue3数据驱动思想"></a>示例4：Vue3数据驱动思想</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Hello World&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>    &lt;style&gt;<br>        .wrap&#123;<br>            width:500px;<br>            margin:0 auto;<br>        &#125;<br>        .btn-primary&#123;<br>            margin-right: 10px;<br>            display: inline-block;<br>            width:80px;<br>            height: 40px;<br>            line-height: 40px;<br>            border-radius: 10px;<br>            text-align: center;<br>        &#125;<br>        .active&#123;<br>            background: yellowgreen;<br>        &#125;<br>        .content&#123;<br>            margin-top:10px;<br>            border-radius: 10px;<br>            padding:10px;<br>            width:100%;<br>            height: 200px;<br>            border: 1px solid #ccc;<br>            display: none;<br>        &#125;<br>        .show&#123;<br>            display: block;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;<br>    &lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const HelloVue=&#123;<br>        data()&#123;<br>            return&#123;<br>                list:[<br>                    &#123;<br>                        title:&#x27;tab1&#x27;,<br>                        content:&#x27;我是tab1的内容&#x27;,<br>                        current:true<br>                    &#125;,<br>                    &#123;<br>                        title:&#x27;tab2&#x27;,<br>                        content:&#x27;我是tab2的内容&#x27;,<br>                        current:false<br>                    &#125;,<br>                    &#123;<br>                        title:&#x27;tab3&#x27;,<br>                        content:&#x27;我是tab3的内容&#x27;,<br>                        current:false<br>                    &#125;<br>                ]<br>            &#125;<br>        &#125;,<br>        methods:&#123;<br>            toggle(i)&#123;<br>                this.list.forEach(element =&gt; &#123;<br>                    element.current=false<br>                &#125;);<br>                this.list[i].current=true<br>            &#125;<br>        &#125;<br>        ,<br>        template:`<br>            &lt;div class=&quot;wrap&quot;&gt;<br>                &lt;span class=&quot;btn-primary&quot; <br>                v-for=&quot;(item,index) in list&quot;<br>                :class=&quot;&#123;active:item.current&#125;&quot;<br>                :key=&quot;index&quot; <br>                @click=&quot;toggle(index)&quot;&gt;<br>                &#123;&#123;item.title&#125;&#125;<br>                &lt;/span&gt;<br>                &lt;div class=&quot;content&quot; <br>                v-for=&quot;(item,index) in list&quot; <br>                :class=&quot;&#123;show:item.current&#125;&quot; <br>                :key=&quot;index&quot;&gt;<br>                &#123;&#123;item.content&#125;&#125;<br>                &lt;/div&gt;<br>            &lt;/div&gt;<br>        `<br>    &#125;<br>    const app=Vue.createApp(HelloVue).mount(&quot;#app&quot;)<br>&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>设置各元素样式</strong></p>
<p>wrap：宽500px的外框，margin设置为上下无间距，左右居中</p>
<p>btn-primary：按钮样式，<u>display：inline-block将元素显示为行内块状元素，设置该属性后，既可以在同一行显示，又可以设置宽高</u>，height和line-height将文字内容设置为上下居中，text-align将文字设置为左右居中，border-radius设置为圆角</p>
<p>Active：按钮被选中后背景色改变</p>
<p>show：<code>dispaly:block</code>将该块设置为块元素，不可以和别的元素显示为同一行，但可以设置宽高了</p>
<p>content：<code>display:none</code>该块将直接塌陷，被覆盖起来</p>
<p><strong>布局</strong></p>
<p>最外层的div绑定wrap样式，做为外框</p>
<p>设置切换按钮，文字为按钮标题，基础样式为btn-primary，绑定一个class为active样式为item.current属性的值，当该值为true时，叠加active属性，绑定key为索引值，绑定动作为只要点击该控件，则执行toggle函数</p>
<p>设置内容框，绑定一个class为show样式的item.current属性的值</p>
<p><strong>实现切换动作</strong></p>
<p>toggle函数传入的值为按下按钮的index值，先讲列表元素的每个值的current属性都设置为<code>false</code>，再把按下的按钮的值设置为<code>true</code></p>
<p><code>item.curent=true</code>的按钮项会改变按钮背景颜色，内容框显示对应的项</p>
<h3 id="四、组件"><a href="#四、组件" class="headerlink" title="四、组件"></a>四、组件</h3><p>组件就是对数据和方法的一个封装，（代码表现组件就是一个对象）</p>
<p>组件是vue最强大的功能之一，可以用组件组装出更大的组件和项目。</p>
<p>传入createapp的组件叫根组件，一个vue实例只有一个根组件</p>
<h4 id="全局方式创建组件"><a href="#全局方式创建组件" class="headerlink" title="全局方式创建组件"></a>全局方式创建组件</h4><p>component(name,option) 创建全局组件方法，整个vue实例都可以直接使用的组件，name是组件名，option是配置项</p>
<p>option中，data是数据，methods是方法，template是模板，就是html代码段</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs text">app.component(&#x27;add-count&#x27;,&#123;<br>        data()&#123;<br>            return &#123;<br>                count:0<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            add()&#123;<br>                this.count++<br>            &#125;<br>        &#125;,<br>        template:`<br>        &lt;div&gt;&#123;&#123;count&#125;&#125;&lt;/div&gt;<br>        &lt;div @click=&quot;add&quot;&gt;add&lt;/div&gt;<br>        `<br>      &#125;)<br></code></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;div id=&quot;app&quot;&gt;<br>        &lt;add-count&gt;&lt;/add-count&gt;<br>    &lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>全局组件创建以后会直接挂载到vue实例上。容易让包变大，而且不能实现按需加载。 一般项目中都是用局部组件。</p>
<p>创建局部组件：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs text">const AddCount = &#123;<br>            data()&#123;<br>                return &#123;<br>                    count:0<br>                &#125;<br>            &#125;,<br>            methods: &#123;<br>                add()&#123;<br>                    this.count++<br>                &#125;<br>            &#125;,<br>            template:`<br>            &lt;div&gt;&#123;&#123;count&#125;&#125;&lt;/div&gt;<br>            &lt;div @click=&quot;add&quot;&gt;add&lt;/div&gt;<br>            `<br>        &#125;<br></code></pre></td></tr></table></figure>
<p>在使用的组件里注册该组件</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">const TestCom = &#123;<br>            data()&#123;<br>                return &#123;&#125;<br>            &#125;,<br>            components:&#123;AddCount&#125;<br>        &#125;<br></code></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs text">template:`<br>		&lt;div&gt;<br>        &lt;add-count&gt;&lt;/add-count&gt;<br>    &lt;/div&gt;`<br></code></pre></td></tr></table></figure>
<h4 id="动态组件的编写"><a href="#动态组件的编写" class="headerlink" title="动态组件的编写"></a>动态组件的编写</h4><blockquote>
<p>什么是动态组件？也许我说的并不标准，我这里指的动态组件是显示内容不固定，通过父组件或者程序控制而输出的内容。</p>
</blockquote>
<p>写一个组件，这个组件会绑定一些<code>props</code>，用于接受父组件传递过来的参数,然后动态显示出内容。 动态组件有一个关键的指令是<code>v-bind</code>，用这种方法，组件可以通过<code>props</code>取得对应的值。代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;my-jiali&#x27;</span>, &#123;<br>    <span class="hljs-attr">props</span>: [<span class="hljs-string">&#x27;item&#x27;</span>, <span class="hljs-string">&#x27;index&#x27;</span>],<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">` &lt;li &gt;[&#123;&#123;index&#125;&#125;]-&#123;&#123;item&#125;&#125;&lt;/li&gt;`</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p><code>props</code>是一个数组，可以接受多个值。有了<code>my-jiali</code>组件后，就可以在<code>app</code>的<code>template</code>中使用了，方法如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;my-jiali <br>    v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(item,index) of list&quot;</span>  <br>    v-<span class="hljs-attr">bind</span>:item=<span class="hljs-string">&quot;item&quot;</span> <br>    v-<span class="hljs-attr">bind</span>:index=<span class="hljs-string">&quot;index&quot;</span>  <br>/&gt;<br></code></pre></td></tr></table></figure>
<p>这时候肯定会有小伙伴认为，这也没有减少代码的工作量哦，第一是因为我们的代码还比较简单，第二是组件的意义是降低程序的耦合性，让大规模开发编程可能。比如一个页面，分成几个人开发，每个人写不同的模块，写好后拼凑在一起。有了组件这就变的非常容易。</p>
<p>这里给出全部代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;列表&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app = Vue.createApp(&#123;<br>        data() &#123;<br>            return &#123;<br>                inputValue: &#x27;&#x27;,<br>                list: []<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            handleAddItem() &#123;<br>                this.list.push(this.inputValue)<br>                this.inputValue = &#x27;&#x27;<br>            &#125;<br>        &#125;,<br>        template: `<br>            &lt;div&gt;<br>                &lt;my-title /&gt;<br>                &lt;input v-model=&quot;inputValue&quot; /&gt;<br>                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;<br>                &lt;ul&gt;<br>                    &lt;my-jiali <br>                        v-for=&quot;(item,index) of list&quot;  <br>                        v-bind:d1=&quot;index&quot; <br>                        v-bind:d2=&quot;item&quot;  <br>                    /&gt;<br>                &lt;/ul&gt;<br>            &lt;/div&gt;<br><br>        `<br>    &#125;)<br><br>    app.component(&#x27;my-title&#x27;, &#123;<br>        template: &#x27;&lt;h1 style=&quot;text-align:center&quot;&gt;芭芭拉&lt;/h1&gt;&#x27;<br>    &#125;)<br><br>    app.component(&#x27;my-jiali&#x27;, &#123;<br>        props: [&#x27;d1&#x27;, &#x27;d2&#x27;],<br>        template: ` &lt;li &gt;[&#123;&#123;d1&#125;&#125;]-&#123;&#123;d2&#125;&#125;&lt;/li&gt;`<br>    &#125;)<br>    app.mount(&quot;#app&quot;)<br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<h4 id="组件的props"><a href="#组件的props" class="headerlink" title="组件的props"></a>组件的props</h4><p>props是组件接收父组件传递过来的数据的自定义属性。使用的时候直接作为数据使用，props里面的数据是只读父组件里传过来的数据的。</p>
<p>父组件传值，<code>:msg</code>绑定的是子组件里的变量名，<code>&#39;msg&#39;</code>为被绑定的父组件里的名为msg的数据</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;add-count :msg=&quot;msg&quot;&gt;&lt;/add-count&gt;<br></code></pre></td></tr></table></figure>
<p>子组件使用值：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs text">const AddCount = &#123;<br>            props:[&#x27;msg&#x27;],<br>            data()&#123;<br>                return &#123;<br>                    count:0, <br>                &#125;<br>            &#125;,<br>            template:`<br>            &lt;div&gt;&#123;&#123;count&#125;&#125;-- &#123;&#123;msg&#125;&#125;&lt;/div&gt;<br>            `<br>        &#125;<br></code></pre></td></tr></table></figure>
<h4 id="props接收参数的校验"><a href="#props接收参数的校验" class="headerlink" title="props接收参数的校验"></a>props接收参数的校验</h4><p>props简写的是数组形式，接收的变量是数组的字符串元素。</p>
<p>props可以写成对象形式，可以限制类型（type），设置默认值（default），进行校验（validator）。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs text">props:&#123;<br>  msg:&#123;<br>     type:String,<br>     default:&#x27;aaa&#x27;,<br>     validator(value)&#123;<br>      if(value === &#x27;asf&#x27;)&#123;<br>       console.log(&#x27;88888&#x27;)<br>      &#125;<br>     &#125;<br>   &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<h4 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h4><p>可以让父组件向子组件指定位置插入html元素 关键词是slot</p>
<p>匿名插槽</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;add-count :msg=&quot;msg&quot;&gt;<br>   &lt;h2&gt;我是slot内容&lt;/h2&gt;<br> &lt;/add-count&gt;<br></code></pre></td></tr></table></figure>
<p>子组件定义：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">emplate:`<br>  &lt;div&gt;<br>    &lt;p&gt;&#123;&#123;count&#125;&#125; -- &#123;&#123;msg&#125;&#125;&lt;/p&gt;<br>    &lt;slot&gt;&lt;/slot&gt;<br>  &lt;/div&gt;<br>`<br></code></pre></td></tr></table></figure>
<p>具名插槽，关键词name ，父组件用template包裹，用#name的属性去对应。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;add-count :msg=&quot;msg&quot;&gt;<br>           &lt;template #slot1&gt;<br>            &lt;h2&gt;我是slot内容&lt;/h2&gt;<br>           &lt;/template&gt;<br>        &lt;/add-count&gt;<br></code></pre></td></tr></table></figure>
<p>自组组件定义：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">template:`<br>&lt;div&gt;<br>    &lt;p&gt;&#123;&#123;count&#125;&#125;-- &#123;&#123;msg&#125;&#125;&lt;/p&gt;<br>    &lt;slot name=&quot;slot1&quot;&gt;&lt;/slot&gt;<br>    &lt;/div&gt;<br>`<br></code></pre></td></tr></table></figure>
<h4 id="createApp-和mount-方法讲解"><a href="#createApp-和mount-方法讲解" class="headerlink" title="createApp()和mount()方法讲解"></a>createApp()和mount()方法讲解</h4><p><strong><code>createApp()</code>方法的参数</strong></p>
<p>首先它接受一个对象形式的参数<code>&#123;&#125;</code>。这个对象就是告诉Vue应该如何展现我们最外层的组件。 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;jspang.com&#x27;</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span><br>    &#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc325">如何获取Vue的根组件vm</a></p>
<p>当你使用<code>creatApp()</code>方法创建了一个Vue应用时，如何能获取根组件。</p>
<p>其实你使用<code>mount()</code>方法时，就会返回根组件。下面的代码，声明一个变量来获取根组件，并打印出来。通过打印你可以看出根组件是一个<code>Proxy</code>形式的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(vm)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc326">mvvm设计模式讲解</a></p>
<p>Vue的编程设计模式应该叫做<code>mvvm</code>的设计模式。什么叫做<code>mvvm</code>？它首先是面向数据的编程，程序中定义了数据，然后定义了模板，<code>Vue</code>就可以把数据和模板自动进行关联。最后挂载到真实的<code>DOM</code>上，展示给用户。</p>
<blockquote>
<p>mvvm解释: 第一个<code>m</code>代表<code>model</code>数据，第一个<code>v</code>代表<code>view</code>视图，最后两个字幕<code>vm</code>代表<code>viewModel</code>视图数据连接层。</p>
</blockquote>
<p>可以看一下代码进行理解</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;jspang.com&#x27;</span>   <span class="hljs-comment">//1.在这里定义了数据，也就是`model`数据</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span> <span class="hljs-comment">//2.在这里定义了模板，也就是`view`，</span><br>        <span class="hljs-comment">//定义后的自动关联，就叫做`vm`，viewModel数据视图连接层。</span><br>    &#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p><code>model</code>数据，是我们自己定义的，<code>view</code>模板也是我们自己定义的，但是<code>vm</code>是Vue自动给我们关联的。</p>
<p>当我们明白了什么是<code>mvvm</code>后，你就知道为什么我们给根组件起名<code>vm</code>了。</p>
<p>当我们获取了<code>vm</code>根节点后，其实就可以操作里边的数据了。比如在控制台中输入下面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">vm.<span class="hljs-property">$data</span>.<span class="hljs-property">message</span> =<span class="hljs-string">&#x27;技术胖&#x27;</span><br></code></pre></td></tr></table></figure>
<p>这个时候你会发现网页界面也跟着发生了变化，变成了<code>技术胖</code>.</p>
<h3 id="五、生命周期函数"><a href="#五、生命周期函数" class="headerlink" title="五、生命周期函数"></a>五、生命周期函数</h3><p>如果要理解什么是自动执行函数，我认为可以对比来看，先清楚什么是被动执行函数。比如我们写了一个<code>handleItemClick( )</code>方法，然后让模板里的<code>&lt;h2&gt;</code>点击后执行此事件，代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">handleItemClick</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;jspang.com&#x27;</span>)<br>     &#125;<br> &#125;,<br> <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2 v-on:click=&#x27;handleItemClick&#x27;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span><br></code></pre></td></tr></table></figure>
<p>这时候可以打开浏览器，看一下这个效果。你需要点击对应的dom元素，他才会执行方法，这个就是被动执行函数。当你了解被动执行函数，再来了解什么是自动执行函数。写一个<code>mounted</code>方法，它就会自动执行。这种就是自动执行函数。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>     <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;mounted&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候你再刷新一下网页，就可以看出<code>mounted</code>被直接弹出了。这种没有任何操作，自动执行的方法，就叫做自动执行函数。</p>
<p>当你明白了什么是自动执行函数后，我们再来学习Vue3.x的生命周期函数。</p>
<p>学习生命周期函数，这里我们用一张Vue官方给出的声明周期函数图片来进行理解。看图理解会更透彻些。</p>
<p><img src="https://cdn.jsdelivr.net/gh/moyudexiaosong/picGo-use/202208151958288.png" srcset="/img/loading.gif" lazyload alt="https://newimg.jspang.com/Vuelifecycle.png"></p>
<p>Vue3中有八个生命周期函数，</p>
<ul>
<li>beforeCreate( ) ：在实例生成之前会自动执行的函数</li>
<li>created( ) : 在实例生成之后会自动执行的函数</li>
<li>beforeMount( ) : 在模板渲染完成之前执行的函数</li>
<li>mounted( ) : 在模板渲染完成之后执行的函数</li>
<li>beforeUpdate ：当data中的数据变化时， 会立即自动执行的函数</li>
<li>updated：当data中的数据发生变化，页面重新渲染完后，会自动执行的函数</li>
<li>beforeUnmount( ) :当Vue应用失效时，会自动执行的函数</li>
<li>unmounted() : 当Vue应用失效时，且DOM完全销毁之后，会自动执行</li>
</ul>
<p>这些生命周期虽然多，你可以成对的去记忆，这样就有四个关键节点了：创建、渲染、更新、销毁。最主要的理解是他们是自动执行的函数。这节课就到这里，我们下节继续学习。</p>
<h3 id="六、模版"><a href="#六、模版" class="headerlink" title="六、模版"></a>六、模版</h3><h4 id="插值表达式和v-html"><a href="#插值表达式和v-html" class="headerlink" title="插值表达式和v-html"></a>插值表达式和v-html</h4><p>以前经常说的<code>字面量</code>，其实正确叫法应该叫做<code>插值表达式</code>，当然我们公司大部分还是叫<code>字面量</code>的，也就是我们经常看到的<code>&#123;&#123;xxxx&#125;&#125;</code>这样的东西。</p>
<p>如果想在变量里写html标签，然后输出展现在页面中，这时候会出现点问题。</p>
<p>我们先修改代码，看看问题所在。例如在message中加入<code>&lt;i&gt;</code>标签。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&lt;i&gt;jspang.com&lt;/i&gt;&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>这时候如果什么都不做，直接输出，你在浏览器中看到的结果就是下面的样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;i&gt;jspang.<span class="hljs-property">com</span>&lt;/i&gt;<br></code></pre></td></tr></table></figure>
<p>这并不是你想要的结果，这时候需要使用<code>v-html</code>的标签解决这个问题。把template属性的部分改成下面的样子。</p>
<p>需要注意的是这压力要改成”`”符号，否则不能使用双引号这种形式</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 v-html=&quot;message&quot;&gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候再预览，就可以看到浏览器中的字变成了斜体。</p>
<h4 id="插值表达式只作一次渲染-v-once"><a href="#插值表达式只作一次渲染-v-once" class="headerlink" title="插值表达式只作一次渲染-v-once"></a>插值表达式只作一次渲染-v-once</h4><p>现在这种插值表达式，是跟着data中的数据一起变化的，也就是我们常说的数据双向绑定。但是如果我希望一个插值表达式，只有在第一次渲染去data中的值，而以后不再跟随data变化，这时候就要用到<code>v-once</code>指令。</p>
<p>先来看一下目前这种代码，我们为<code>h2</code>标签，加入相应事件<code>handleItemClick</code>，代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 v-on:click=&quot;handleItemClick&quot; v-html=&quot;message&quot;&gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候在浏览器中可以看到，我们每点击一次h2标签，<code>message</code>的值都是变化的。再改写一下代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 </span><br><span class="hljs-string">                v-on:click=&quot;handleItemClick&quot; </span><br><span class="hljs-string">                v-html=&quot;message&quot;</span><br><span class="hljs-string">                v-once</span><br><span class="hljs-string">            &gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>加入了<code>v-once</code>后，无论data中的数据如何变化，模板也不会再次重新渲染了，这就是<code>v-once</code>的变化。</p>
<h4 id="插值表达式中使用JS表达式"><a href="#插值表达式中使用JS表达式" class="headerlink" title="插值表达式中使用JS表达式"></a>插值表达式中使用JS表达式</h4><p>其实在插值表达式中是可以使用JS表达式的，最常用的表达式是三元运算符。比如在data中新声明一个变量<code>count</code>，用三元运算符判断是否是大于2，如果大于2显示大，小于2显示小，编写代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;&#123;&#123;count&gt;2?&#x27;大&#x27;:&#x27;小&#x27;&#125;&#125;&lt;/div&gt;`</span><br></code></pre></td></tr></table></figure>
<p>当然也可以使用一些简单的表达式，比如下面这些样子的JS表达式.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;&#123;&#123;<span class="hljs-string">&#x27;jspang&#x27;</span>+<span class="hljs-string">&#x27;.com&#x27;</span>&#125;&#125;&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;&#123;1+2&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>这些形式的表达式都是可以的，但是如果你想用if语句，就是不可以的，因为只能用JS表达式而不能用语句。</p>
<h4 id="v-bind指令的使用"><a href="#v-bind指令的使用" class="headerlink" title="v-bind指令的使用"></a>v-bind指令的使用</h4><p>现在我们给h2标签加入一个title属性(鼠标放上去会出现的小便签)，属性的值也想使用<code>message</code>。代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 <br>  v-<span class="hljs-attr">on</span>:click=<span class="hljs-string">&quot;handleItemClick&quot;</span> <br>  v-html=<span class="hljs-string">&quot;message&quot;</span><br>  v-once<br>  title=<span class="hljs-string">&quot;message&quot;</span><br>&gt; &lt;/h2&gt;<span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候浏览器中鼠标放上时显示的是双引号里的<code>message</code>这个单词，而并没有出现我们想要的结果。</p>
<p>这时候就可以使用<code>v-bind</code>标签了，写成下面的样式把<code>message</code>和message变量进行绑定，输出<code>message</code>变量的内容了。</p>
<p>v-bind在title前面但实际上绑定的是<code>=</code>右面的变量，然后把这个值赋给title。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">v-<span class="hljs-attr">bind</span>:title=<span class="hljs-string">&quot;message&quot;</span><br></code></pre></td></tr></table></figure>
<h4 id="v-on的基本用法和简写"><a href="#v-on的基本用法和简写" class="headerlink" title="v-on的基本用法和简写"></a><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc341">v-on的基本用法和简写</a></h4><p><code>v-on</code>是用来绑定响应事件的，这里写一个最简单的事件，弹出对话框。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">hanldClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;欢迎光临红浪漫&#x27;</span>)<br>    &#125;<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 v-on:click=&quot;hanldClick&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p><code>v-on</code>还有一个简写方法，就是可以把<code>v-on:</code>用<code>@</code>代替，比如把代码改成下面的样子，也是完全可以使用的。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;hanldClick&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>不仅<code>v-on</code>有简写方法，上节我们学习的<code>v-bind</code>也有简写方法<code>:</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 v-<span class="hljs-attr">bind</span>:title=<span class="hljs-string">&quot;message&quot;</span>&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>Vue在开发中还是鼓励大家使用简写，这样可以让代码更加清晰。</p>
<h4 id="模板动态参数"><a href="#模板动态参数" class="headerlink" title="模板动态参数"></a><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc342">模板动态参数</a></h4><p>现在绑定的事件<code>click</code>和<code>title</code>都是固定死的，显得不太灵活。</p>
<p>Vue也提供了动态参数，比如这里<code>v-bind:title</code>中的<code>title</code>是来自<code>data</code>中的，就可以这样写</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123; <br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;title&#x27;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;h2 </span><br><span class="hljs-string">            :[name]=&quot;message&quot;</span><br><span class="hljs-string">        &gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">&#125;)</span><br></code></pre></td></tr></table></figure>
<p>这样定义动态参数就相当于把<code>title</code>替换为<code>[name]</code>，<code>:[name]=&quot;message&quot;</code>就相当于是<code>:title=&quot;message&quot;</code>。</p>
<p><strong>事件动态绑定</strong></p>
<p>这种形式，也可以用到<code>v-on</code>事件绑定当中，比如在<code>data</code>中声明一个<code>event</code>的变量，然后给他一个<code>click</code>,然后用同样的方法实现事件动态绑定。</p>
<p>data中的写法如下</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span>&#123;<br>    <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;jspang.com&#x27;</span> ,<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;title&#x27;</span>,<br>    <span class="hljs-attr">event</span>:<span class="hljs-string">&#x27;click&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>模板中的写法如下</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 </span><br><span class="hljs-string">        @[event]=&quot;hanldClick&quot;</span><br><span class="hljs-string">        :[name]=&quot;message&quot;</span><br><span class="hljs-string">    &gt;</span><br><span class="hljs-string">    &#123;&#123;message&#125;&#125;</span><br><span class="hljs-string">    &lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<h4 id="阻止默认事件"><a href="#阻止默认事件" class="headerlink" title="阻止默认事件"></a><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc343">阻止默认事件</a></h4><p>最常见的默认事件就是表单的默认提交事件，比如我们这里写一个表单，然后写一个属性为<code>submit</code>的按钮，当点击按钮时，表单就会默认提交到对应的网址。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;form action=<span class="hljs-string">&quot;https://jspang.com&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>默认提交<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/form&gt;<br></code></pre></td></tr></table></figure>
<p>这时候在浏览器中预览，点击“默认提交”按钮，就会立即跳转到action里的网址去，这就是默认响应事件。</p>
<p>但是在开发中我们经常需要阻止这种默认响应事件。所以Vue提供了一个模板修饰符，直接可以阻止默认行为。写法如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;form <br>    action=<span class="hljs-string">&quot;https://jspang.com&quot;</span> <br>    @click.<span class="hljs-property">prevent</span>=<span class="hljs-string">&quot;hanldeButton&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>默认提交<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/form&gt;<br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>methods中的写法</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">hanldeButton</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;jspang.com&#x27;</span>) <br>&#125;<br></code></pre></td></tr></table></figure>
<p>这样再点击按钮的时候，相应的就不是默认的跳转到action网址的动作，而是自定义的阻止函数里的弹出动作。</p>
<h4 id="v-if条件判断"><a href="#v-if条件判断" class="headerlink" title="v-if条件判断"></a>v-if条件判断</h4><p>模板中使用条件判断，控制页面的样式，是最常见的应用。Vue中提供了两种基本的方法，一种是我们已经讲过的三元运算符，另一种就是<code>v-if</code>。</p>
<p>先来看三元运算符控制模板的样式，根据Data中值的不同，显示不同的样式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;style&gt;<br>    .<span class="hljs-property">one</span> &#123;<span class="hljs-attr">color</span>: red;&#125;<br>    .<span class="hljs-property">two</span> &#123;<span class="hljs-attr">color</span>: green;&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>这里有两个基本的CSS样式，分别是让文字是红色和绿色。现在的需求是，要根据<code>message</code>的值显示不同的颜色，是<code>jspang.com</code>显示红色，是<code>技术胖</code>时显示绿色。类似这样的需求，就可以使用三元运算符，然后绑定class的形式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 </span><br><span class="hljs-string">                :class=&quot;message==&#x27;jspang.com&#x27;?&#x27;one&#x27;:&#x27;two&#x27;&quot; </span><br><span class="hljs-string">                @click=&quot;handleItemClick&quot; &gt;</span><br><span class="hljs-string">                &#123;&#123;message&#125;&#125;</span><br><span class="hljs-string">        &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候文字变化，对应的css样式也会变化。可以打开浏览器，看一下效果。</p>
<p>三元运算符的限制还是比较明显的，就是只能判断两个值，如果这时候我们再加入一个值，就是既不是<code>jspang.com</code>,也不是<code>技术胖</code>的时候，我们显示橙色。这时候三元运算符就满足不了需求了。vue给我们准备了v-if判断。</p>
<p>我们先加入一个CSS样式<code>three</code>:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;style&gt;<br>    .<span class="hljs-property">one</span> &#123;<span class="hljs-attr">color</span>: red;&#125;<br>    .<span class="hljs-property">two</span> &#123;<span class="hljs-attr">color</span>: green;&#125;<br>    .<span class="hljs-property">three</span>&#123;<span class="hljs-attr">color</span>:orange;&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>然后可以使用<code>v-if</code>来进行编写模板。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;jspang.com&#x27;&quot; class=&quot;one&quot; &gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;技术胖&#x27;&quot; class=&quot;two&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;bilibili&#x27;&quot;  class=&quot;three&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>当然，你也可以使用<code>v-else</code>，比如下面把代码改为这个样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;jspang.com&#x27;&quot; class=&quot;one&quot; &gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-else  class=&quot;three&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>相当于在执行完<code>v-if</code>语句后，符合条件则执行后面的内容，不符合的话直接下一条。</p>
<h4 id="计算属性-computed"><a href="#计算属性-computed" class="headerlink" title="计算属性-computed"></a>计算属性-computed</h4><p>计算属性的特性是：当计算属性依赖的内容发生变更时，才会重新执行计算。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-title function_">getTotal</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * (<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++);<br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">` &lt;h2&gt; &#123;&#123;getTotal()&#125;&#125;&lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候问题产生了，你会发现只要修改网页中任何一个值，getTotal( )方法都会被重新执行。这就是这个问题的所在，这个问题其实可以用今天的主角coumputed计算属性来解决。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc350">编写计算属性</a></p>
<p>在了计算属性中获取当前的时间戳，计算属性的关键字是<code>computed</code>，然后里边可以写计算用的方法，这里我起名叫做<code>total</code>，当然你可以起任何的名字。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后我们把上面模板中的方法<code>getTotal( )</code>换成计算属性<code>total</code>。模板的代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h2&gt; &#123;&#123;total()&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中，用手动的方法，修改<code>message</code>的值，<code>total</code>的值就不会进行改变了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">vm.<span class="hljs-property">message</span>=<span class="hljs-string">&#x27;1111&#x27;</span><br></code></pre></td></tr></table></figure>
<p>通过这个例子，你会对普通方法和计算属性的区别有所了解。这时候我们作一下总结：</p>
<ol>
<li>方法methods：只要有任何参数发生改变进行页面重新渲染，就会重新执行方法</li>
<li>计算属性computed: 当计算属性依赖的内容发生变更时，才会重新执行计算</li>
</ol>
<p>那我们再来看计算属性改变的例子。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc351">计算属性-computed实例</a></p>
<p>我们用<code>单价X数量=总和</code>这个小例子，来说明具体计算属性的使用方法。每点击一下按钮，就会让数量<code>count</code>加1。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中写一个按钮，每次点击按钮<code>count</code>数量进行增加。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCount</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>    &#125;<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h2&gt; &#123;&#123;total&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;addCount&quot;&gt;再买一个&lt;/button&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候我们再到浏览器中查看效果，当点击按钮的时候，计算属性会帮助我们完成模板的自动更新。</p>
<p>computed可用于数据绑定+节省内存，当存在对数据依赖项的函数时可以放到计算属性里</p>
<h4 id="侦听器-监听器-watch"><a href="#侦听器-监听器-watch" class="headerlink" title="侦听器/监听器-watch"></a>侦听器/监听器-watch</h4><p>侦听器可以侦听data中值的变化，做出相应的操作。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc353">侦听器的基本写法</a></p>
<p>watch侦听器的作用就是侦听一个data中的值的变化，变化后可以写一个方法，让其进行一些操作（业务逻辑的编写）。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;count changed&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>上面代码的意思是，写一个侦听器来侦听<code>count</code>的数据变化，当<code>count</code>变化之后立即在控制台打印出<code>count changed</code>。</p>
<p>侦听器中的方法还可以接收两个参数，一个是现在的值（current），一个是变化之前的值（prev），是系统内置的，顺序固定，变量名可任意取。我们分别接收这两个值，并打印在控制台，看一下效果。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params">current,prev</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;watch changed&#x27;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;现在的值：&#x27;</span>,current)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;变化前的值：&#x27;</span>,prev)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在浏览器中可以看到打印的效果。先打印出了3，然后又打印出了2。需要注意的是两个参数的先后顺序，如果不小心，是很容易记反的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc354">侦听器和计算属性的区别</a></p>
<p>计算属性computed必须要返回一个值，而且在页面渲染的同时就会执行里边的业务逻辑，也就是会先执行一遍你写的业务逻辑，而<code>watch</code>只有发生变化时才会执行，也就是说值没有变化，它是不执行里边业务逻辑的。为了验证结果，先注释掉侦听器watch相关的内容，在计算属性<code>total</code>中写这样的代码。</p>
<p>代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;....count changed&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc355">计算属性（computed）更加简洁</a></p>
<p>再来思考一个问题，用watch侦听器，可以写出类似计算属性的代码吗？答案是肯定的。现在我们就写一个类似计算属性效果。</p>
<p>先在data中声明一个新的变量，叫做<code>newTotal</code>，给出一个<code>20</code>的值。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//....</span><br>        <span class="hljs-attr">newTotal</span>:<span class="hljs-number">20</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后修改watch中代码，写一个乘法表达式算出<code>总和</code>，赋值给<code>this.newTotal</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params">current,prev</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">newTotal</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * current<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>最后把模板中的渲染值，改为<code>newTotal</code>就可以了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">    &lt;h2&gt;总和：&#123;&#123;newTotal&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>写完这些，你在浏览器中看到的效果和计算是属性是一样的。但是从代码简洁性上，显然侦听器的写法是麻烦并冗余，所以建议优先使用计算属性来完成同样的操作。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc356">method、watch和computed三者使用优先级</a></p>
<p>现在总结一下method、watch和computed三者如果都能实现相同的功能，它们之间的取舍和使用优先级。</p>
<ul>
<li><code>computed</code> 和 <code>method</code>都能实现的功能，建议使用computed,因为有缓存，不用渲染页面就刷新。</li>
<li><code>computed</code> 和 <code>watch</code> 都能实现的功能，建议使用 computed，因为更加简洁。</li>
</ul>
<h4 id="模板样式绑定详细讲解"><a href="#模板样式绑定详细讲解" class="headerlink" title="模板样式绑定详细讲解"></a>模板样式绑定详细讲解</h4><p>预设几个style样式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;style&gt;<br>        .<span class="hljs-property">one</span>&#123;<br>            <span class="hljs-attr">color</span>: aqua;<br>        &#125;<br>        .<span class="hljs-property">two</span>&#123;<br>            <span class="hljs-attr">color</span>: bisque;<br>        &#125;<br>        .<span class="hljs-property">three</span>&#123;<br>            <span class="hljs-attr">color</span>: blueviolet;<br>        &#125;<br>        <br>    &lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>再在Data中声明变量，然后在模板<code>template</code>中进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;        <br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">classString</span>:<span class="hljs-string">&#x27;three&#x27;</span>,<br>        &#125;<br>	&#125;,<br>    <span class="hljs-attr">methods</span>:&#123;<br>     <span class="hljs-title function_">chgClass</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">classString</span>=<span class="hljs-string">&#x27;two&#x27;</span>;<br>     &#125;<br>	&#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">        &lt;button @click=&#x27;chgClass&#x27;&gt;变色&lt;/button&gt;</span><br><span class="hljs-string">        &lt;h2 :class=&#x27;classString&#x27;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">        &lt;h2 class=&#x27;two&#x27;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">    `</span>, <br>	&#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>此时你可以利用浏览器的控制台，输入对应的代码，直接控制样式了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">vm.<span class="hljs-property">$data</span>.<span class="hljs-property">classString</span>=<span class="hljs-string">&#x27;two&#x27;</span><br></code></pre></td></tr></table></figure>
<p><strong>对象的绑定方式</strong></p>
<p>现在用对象的形式进行绑定样式，好处是一次可以绑定多个样式。比如这样的代码</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">classString</span>:<span class="hljs-string">&#x27;one&#x27;</span>,<br>        <span class="hljs-attr">classObject</span>:&#123;<span class="hljs-attr">two</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">three</span>:<span class="hljs-literal">true</span>&#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>值为<code>true</code>代表绑定，值为<code>false</code>代表不绑定这个样式。</p>
<p>然后进行绑定</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">        &lt;button @click=&#x27;chgClass&#x27;&gt;变色&lt;/button&gt;</span><br><span class="hljs-string">        &lt;h2 :class=&#x27;classString&#x27;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">        &lt;h2 :class=&#x27;classObject&#x27;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">    `</span>, <br></code></pre></td></tr></table></figure>
<p>这时候再到浏览器中查看效果，就会有两个样式被绑定了<code>two</code>和<code>three</code>。如果你这时候把two改为false，那效果就是只有背景颜色，没有字体颜色了。</p>
<p><strong>数组的绑定方式</strong></p>
<p>再来看一下数组的绑定方式，数组也是可以绑定多个样式的。</p>
<p>代码如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">classArray</span>:[<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>],<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候再修改一下绑定值,页面样式就变成了绿字，橙色的底啦。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classArray&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>你也可以在这种数组的数据项中，再嵌套对象的形式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">classArray</span>:[<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;background&#x27;</span>,&#123;<span class="hljs-attr">red</span>:<span class="hljs-literal">true</span>&#125;],<br></code></pre></td></tr></table></figure>
<p>如果看不到效果，可以在CSS样式中增加<code>!important</code>，把优先级提高，当然你也可以在浏览器的控制台查看。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc362">子组件的样式绑定</a></p>
<p>先来看一下子组件如何绑定样式。编写一个子组件<code>SonCom</code>，组件中就是展示一个简单的内容。</p>
<p>代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;script&gt;  <br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;        <br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>			&#125;,<br>        <span class="hljs-comment">//父组件调用</span><br>    		<span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">        	&lt;sonCom /&gt;</span><br><span class="hljs-string">    		`</span>, <br>			&#125;)<br>  			<span class="hljs-comment">//子组件声明</span><br>		app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    	<span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>		&#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>有了子组件后，就可以在父组件的模板中进行使用了，使用就是直接写一个类似html的标签进去就可以。</p>
<p><strong>如何区分父子组件</strong></p>
<p>在<code>vue.createApp( )</code>方法中用对象形式<code>&#123; &#125;</code>配置的一般叫做父组件，而下面使用的其他组件，叫做子组件。<strong>你也可以这样理解，主动调用的是父组件，被调用的是子组件</strong>。</p>
<ul>
<li>最简单的为子组件添加样式的方法，就是自己在子组件里加上<code>class</code>。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div class=&quot;green&quot;&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>这时候子组件的字体颜色就变成了绿色。</p>
<ul>
<li>你还可以把class写在父组件里，例如下面的代码。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classArray&quot;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;sonCom class=&#x27;green&#x27; /&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>先去掉子组件里的class，在调用地方增加class样式。这时候效果也是一样的。</p>
<ul>
<li>二者可以同时使用</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc363">子组件使用样式的小坑</a></p>
<p>这时候我们修改一下子组件，再写一个<code>&lt;div&gt;</code>进去，里边写上<code>技术胖</code>的字样。这时候再来看结果。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;技术胖&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>你会发现两个<code>&lt;div&gt;</code>的样式都不起作用了。那我们如何让它变成绿色那，其实只有再两个并列的<code>&lt;div&gt;</code>外层，加上一个包括性的标签就可以了。也就是说让子组件的最外层只有一个根元素。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;</span><br><span class="hljs-string">            &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">            &lt;div&gt;技术胖&lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>这样就又变成了绿色字体。还有一种用到动态绑定的方法，直接绑定属性中的class。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div :class=&quot;$attrs.class&quot;&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;技术胖&lt;/div&gt; </span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc364">行内样式的编写</a></p>
<ul>
<li>直接在模板的DOM元素上写CSS样式，比如下面的这样。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 style=<span class="hljs-string">&quot;color:orange;&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/h2&gt;<br></code></pre></td></tr></table></figure>
<ul>
<li>在data中编写样式，比如在Data中这样写。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">styleString</span>:<span class="hljs-string">&#x27;color:orange;&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后用绑定行内样式的形式，在模板中进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :style=&quot;styleString&quot;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<ul>
<li><strong>用对象的形式在data中编写CSS样式。</strong>比如写成下面的代码，然后再进行绑定。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>       <span class="hljs-comment">//.....</span><br>        <span class="hljs-attr">styleString</span>:<span class="hljs-string">&#x27;color:orange;&#x27;</span>,<br>        <span class="hljs-attr">styleObject</span>:&#123;<br>            <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span>,<br>            <span class="hljs-attr">background</span>:<span class="hljs-string">&#x27;yellow&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在写行内样式的使用，个人觉得对象的写法更加直观和简洁，所以建议小伙伴可以采用这种对象的形式来进行编写。</p>
<h4 id="v-show和v-if的差别"><a href="#v-show和v-if的差别" class="headerlink" title="v-show和v-if的差别"></a>v-show和v-if的差别</h4><p>准备好最基本的结构后，在数据项中声明一个<code>show</code>的变量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">show</span>:<span class="hljs-literal">true</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>注意这里的<code>true</code>是布尔类型，不是字符串类型。</p>
<p>有了变量后，可以在模板中使用<code>v-show</code>来控制CSS样式，从而控制DOM元素的展示与否。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 v-show=&quot;show&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候打开浏览器进行预览，是可以看到<code>JSPang.com</code>这个h2的DOM元素的。如果把数据项<code>show</code>改成<code>false</code>就看不到了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc367">v-if和v-show的区别</a></p>
<p>v-show看起来和v-if语法的功能基本一样，但其实他们无论是灵活性还是功能都是有区别的。</p>
<p><code>v-if</code><strong>更加灵活</strong>，可以增加多个判断，比如<code>v-else-iif</code>和<code>else</code>，而<code>v-show</code><strong>不具备这样的灵活性</strong>。</p>
<p>如果显示和隐藏的状态切换比较频繁，并且没有什么多余复杂的业务逻辑，建议使用<code>v-show</code>，因为他不会一直渲染你的页面DOM元素，这或多或少对性能和稳定性有点提升。反之可以使用<code>v-if</code>。</p>
<h4 id="v-for循环详细讲解"><a href="#v-for循环详细讲解" class="headerlink" title="v-for循环详细讲解"></a>v-for循环详细讲解</h4><p>在<code>data</code>中声明一个数组，数组叫做<code>listArray</code>,代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;  <br>        <span class="hljs-attr">listArray</span>:[<span class="hljs-string">&#x27;谢大脚&#x27;</span>,<span class="hljs-string">&#x27;刘英&#x27;</span>,<span class="hljs-string">&#x27;晓红&#x27;</span>]<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>用<code>v-for</code>在<code>template</code>模版里遍历数组，代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;item in listArray&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>上面代码写完后在浏览器中预览效果，可以看到，已经如我们所愿，在页面渲染出了列表。在<code>v-for</code>渲染数组时中还可以加入索引<code>index</code>,也就是 数组的下标。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;(item,index)  in listArray&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p><strong>循环中的key值</strong></p>
<p>为了提高循环时性能，在数组其中一项变化后，整个数组不进行全部重新渲染，Vue提供了绑定key值的使用方法，目的就是增加渲染性能，避免重复渲染。</p>
<p>为了理解这个概念，先编写出一个按钮，然后每次点击按钮后向数组中增加<code>push</code>一个新值。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">handleChangeBtnClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listArray</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;JSPang.com&#x27;</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">    &lt;button @click=&quot;handleChangeBtnClick&quot;&gt;点我改变&lt;/button&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>当你点击按钮时，表面上你看到增加了一个新的内容，实际整个列表都被重新渲染了。</p>
<p>在实际工作中，这样的代码是不被允许的，它会降低页面的性能，在数据量变多的时候，用户用起来会变的卡顿。这时，你可以加具有<strong>唯一</strong>性的<code>key</code>值，增加后vue就会辨认出哪些内容被渲染后并没有变化，而只渲染新变化的内容。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index)  in listArray&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>官方不建议使用索引<code>index</code>为key值，因为若存在多个数组，会出现重复，但此时又为了保持唯一性，所以这里使用了<code>index+item</code>进行绑定key值</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc371">v-for循环对象的方法</a></p>
<p>v-for不仅可以循环数组，还可以循环对象，使用方法基本和数组一样（但其中参数值是不一样的）。这里先在data中建立一个对象。代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;  <br>        <span class="hljs-comment">//......</span><br>        <span class="hljs-attr">listObject</span>:&#123;<br>            <span class="hljs-title class_">Girl</span>:<span class="hljs-string">&#x27;谢大脚&#x27;</span>,<br>            <span class="hljs-title class_">Boy</span>:<span class="hljs-string">&#x27;刘英&#x27;</span>,<br>            <span class="hljs-title class_">Old</span>:<span class="hljs-string">&#x27;晓红&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在模板中进行循环的时候，循环的是同一个对象的不同的项，为了更好的语义化，我们把参数改为了<code>value</code>,<code>key</code>和<code>index</code>。然后进行循环。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key,index)  in listObject&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;key&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>写完后可以到浏览器中预览，也是可以得到你想要的结果的。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">[<span class="hljs-number">0</span>]谢大脚-<span class="hljs-title class_">Girl</span><br>[<span class="hljs-number">1</span>]刘英-<span class="hljs-title class_">Boy</span><br>[<span class="hljs-number">2</span>]晓红-<span class="hljs-title class_">Old</span><br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc373">v-for循环数字</a></p>
<p><code>v-for</code>是可以用来循环数字的，比如你要循环1-99的数字，可以直接写成下面的样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;span v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;count in 99&quot;</span>&gt;&#123;&#123;count&#125;&#125;,&lt;/span&gt;<br></code></pre></td></tr></table></figure>
<p>这样就可以快速的循环出1-99的值在页面上。可以在浏览器中看一下这个效果。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc374">v-for中如何使用判断</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>在浏览器中进行预览，你会发现<code>谢大脚</code>的循环项并没有消失。</p>
<p>这是<strong>因为在同一个标签里，v-for循环的优先级要高于<code>v-if</code>判断的优先级，所以判断失效。</strong></p>
<p>正确的写法应该是在<code>&lt;li&gt;</code>外层独立出一个标签，在<code>&lt;li&gt;</code>上做循环。比如写成下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中预览，<code>谢大脚</code>如愿以偿的消失了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc375">template标签的使用</a></p>
<p>上面的结果完美吗？当你打开浏览器的控制台，看Elements选项卡时，你会发现DOM结构是有问题的，明明循环出两项，却有3个<code>&lt;div&gt;</code>，而且这种外层套用<code>&lt;div&gt;</code>里边使用<code>&lt;li&gt;</code>的形式，不符合HTML语法的基本结构。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>为了解决这个问题，Vue给我们提供了<code>&lt;template&gt;</code>模版标签，也就是一个空的占位符，目的就是解决模板中为完成业务逻辑，而使用的无用html标签的现象。</p>
<p>现在可以把上面的代码写成这样。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>这时候再到浏览器看一下结果，这样就符合我们的期待了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    &lt;!--v-<span class="hljs-keyword">if</span>--&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<h3 id="七、绑定事件"><a href="#七、绑定事件" class="headerlink" title="七、绑定事件"></a>七、绑定事件</h3><ul>
<li>绑定method中的函数</li>
</ul>
<p>现在的需求是这样的，只要顾客点击按钮，我们就会增加菜单数量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo19&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;<br>            count:0<br>        &#125;<br>    &#125;,<br>    methods:&#123;<br>    addCountClick()&#123;<br>        this.count++;<br>    	&#125;,<br>		&#125;,<br>    template:`<br>      &lt;div&gt;目前已点菜的数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;<br>      &lt;button @click=&quot;addCountClick&quot;&gt;增加一道菜&lt;/button&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<ul>
<li>直接用表达式实现</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click=<span class="hljs-string">&quot;count++&quot;</span>&gt;增加一位&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p>保持代码的精简，但这样灵活性也会比较差。</p>
<ul>
<li>用event对象代替</li>
</ul>
<p>在编写响应事件事，是可以接受一个event参数的，这个参数就是关于响应事件的一些内容。我们直接打印出event，你会发现内容比较多，其实这些参数还是值得一看的，在工作中有时真的会用到。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">event</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event)<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候你可以打开浏览器，然后打开<code>控制台</code>查看一下效果。可以看到event的内容非常多，想直观看到是那个DOM元素触发事件，可以使用<code>target</code>属性。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>)<br></code></pre></td></tr></table></figure>
<ul>
<li>单参数/多参数的传递</li>
</ul>
<p>先来看传入单独的参数，比如现在每次点击的增量不再是1，而是2。就可以这样来编写。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">num</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>+=num<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        //.....</span><br><span class="hljs-string">    &lt;button @click=&quot;addCountClick(2)&quot;&gt;增加一&lt;/button&gt;</span><br><span class="hljs-string">    `</span> <br>&#125;)<br></code></pre></td></tr></table></figure>
<p><strong>有参数的情况下使用event</strong></p>
<p>这时候你还想使用<code>event</code>参数，方法是参数增加<code>$event</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">num,event</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>+=num;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;addCountClick(2,$event)&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    `</span> <br>&#125;)<br></code></pre></td></tr></table></figure>
<p>总结一下，在有多个参数的情况下，要继续使用event，需要在调用的地方使用<code>$event</code>，进行传递参数，然后在方法上正常接收就可以了。</p>
<ul>
<li>一个按钮调用两个方法</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-title function_">handleBtnClick1</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>)<br>    &#125;,<br>    <span class="hljs-title function_">handleBtnClick2</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">2</span>)<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在模板的按钮中可以这样使用这两个方法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click=<span class="hljs-string">&quot;handleBtnClick1(),handleBtnClick2()&quot;</span>&gt;增加&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p>这里需要注意的是:调用方法的时候，要加上<code>( )</code>如果不加，调用是无效的。</p>
<p>总结一下：如果想在模板中一次触发两个事件方法，需要 用<code>,</code>逗号，把事件隔开，然后每个事件后边必须加上<code>( )</code>才能起作用。</p>
<h4 id="事件修饰符"><a href="#事件修饰符" class="headerlink" title="事件修饰符"></a>事件修饰符</h4><p>事件修饰符分别是：<code>stop</code>,<code>prevent</code>,<code>capture</code>,<code>self</code>,<code>once</code>和<code>passive</code>。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc383">通过修饰符解决冒泡事件</a></p>
<p>在JavaScript中冒泡事件是经常处理的事件，先写一段代码，手动创造一个冒泡事件。</p>
<ul>
<li>修改模板<code>template</code>部分，在最外层增加一个<code>&lt;div&gt;</code>并添加click事件。</li>
<li>修改方法<code>methods</code>部分，删除无用方法，保留两个方法，增加alter提示。</li>
<li>形成冒泡效果，就是有嵌套的DOM元素时，两个都有绑定事件，JS会自动向上传递事件。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo19&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;<br>            count:0<br>        &#125;<br>    &#125;,<br>    methods:&#123;<br>        addCountClick()&#123;<br>            this.count++<br>        &#125;,<br>        handleBtnClick1()&#123;<br>            alert(1)<br>        &#125;,<br>    &#125;,<br>    template:`<br>        &lt;div @click=&quot;handleBtnClick1&quot;&gt;<br>            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;&lt;/div&gt;<br>            &lt;button @click=&quot; addCountClick()&quot;&gt;增加&lt;/button&gt;<br>       &lt;/div&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>stop修饰符</strong></p>
<p>在Vue中要停止冒泡是非常简单的，只要加一个事件修饰符<code>stop</code>就可以了，相当于点这个按钮的时候不会触发外层效果，只有点除按钮外的区域时才出发。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click.<span class="hljs-property">stop</span>=<span class="hljs-string">&quot; addCountClick()&quot;</span>&gt;增加&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p><strong>self修饰符</strong></p>
<p>只有点击自己的时候才会被执行， 只不过加的位置要在外层DOM元素的事件上。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">            &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">       &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br></code></pre></td></tr></table></figure>
<p>这时候你会发现无论点击哪里，都没办法触发<code>hanldeBtnClick1</code>方法了，这是因为目前最外层div下都是独立的DOM元素，就是都有成对标签出现，都不属于最外自己，都是他们的子元素。</p>
<p>可以编写一段专属最外层DIV的文字。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">            我是最外层的DIV文字</span><br><span class="hljs-string">            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">            &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">       &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br></code></pre></td></tr></table></figure>
<p>这样当点击<code>我是最外层的DIV文字</code>时，就会触发<code>handleBtnClick1</code>方法了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc384">其它常用修饰符</a></p>
<p><strong>prevent修饰符：</strong>阻止默认行为的修饰符</p>
<p><strong>capture修饰符：</strong>改成捕获模式，默认的模式都是冒泡模式，也就是从下到上，从内到外，但是你用capture后，是从上到下，从外到内的。</p>
<p>修改一下模板部分的代码，不再使用修饰符，而是让事件存在冒泡。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">0</span>)  <span class="hljs-comment">//修改了此处</span><br>    &#125;,<br>    <span class="hljs-title function_">handleBtnClick1</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div @click.capture=&quot;handleBtnClick1&quot;&gt;  //修改了此处</span><br><span class="hljs-string">        我是最外层的DIV文字</span><br><span class="hljs-string">        &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">        &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p><strong>once修饰符：</strong>事件只执行一次</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">        我是最外层的DIV文字</span><br><span class="hljs-string">        &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">        &lt;button @click.once=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>此时再点击按钮，事件只执行一次。这时候我们修改了两个地方，最外层的事件加了<code>self</code>修饰符，button上加了<code>once</code>修饰符。</p>
<p><strong>passive修饰符</strong>：解决滚动时性能的修饰符，不太好演示，等以后用到我们会再详细讲解。</p>
<h4 id="按键、鼠标饰修符"><a href="#按键、鼠标饰修符" class="headerlink" title="按键、鼠标饰修符"></a>按键、鼠标饰修符</h4><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;body&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/body&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123; </span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-keyword">return</span>&#123;&#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">methods</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span></span></span><br><span class="hljs-string"><span class="language-javascript"><span class="language-xml">        &lt;div&quot;&gt;</span></span></span><br><span class="hljs-string"><span class="language-javascript"><span class="language-xml">            &lt;input /&gt;</span></span></span><br><span class="hljs-string"><span class="language-javascript"><span class="language-xml">        &lt;/div&gt;</span></span></span><br><span class="hljs-string"><span class="language-javascript"><span class="language-xml">        `</span> </span></span><br><span class="language-javascript"><span class="language-xml">    &#125;) </span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">const</span> vm=app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>然后在<code>methods</code>部分加入一个方法<code>handleKeyDwon( )</code>，具体内容只是在控制台打印出来<code>keydown</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">handleKeyDown</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;keydow....&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<ul>
<li>绑定键盘按下</li>
</ul>
<p>在模板中的<code>&lt;input /&gt;</code>中绑定键盘按下时响应<code>keydown</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&quot;&gt;</span><br><span class="hljs-string">        &lt;input @keydown=&quot;handleKeyDown&quot;/&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<ul>
<li>绑定单个按键按下</li>
</ul>
<p>指定键盘上某个特殊的按键时才会响应事件方法。</p>
<p>如果现在的需求是，上面的代码只有在按下回车时，才在控制台进行打印，这时候就需要按键修饰符了。我们学的第一个按键修饰符<code>enter</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&quot;&gt;</span><br><span class="hljs-string">        &lt;input @keydown.enter=&quot;handleKeyDown&quot;/&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span> <br>    &#125;)<br></code></pre></td></tr></table></figure>
<p>类似这样只响应单个按键的修饰符有很多</p>
<p>enter回车 、tab、delete、esc、up 、down、left、right</p>
<ul>
<li>绑定鼠标按下</li>
</ul>
<p>除了按键修饰符，还有鼠标修饰符，就是按下鼠标上的某个键时，才会响应。</p>
<p>最常用的就是: left、right、middle</p>
<p>现在的需求是在页面上作一行文字<code>JSPang.com</code>，然后只有用鼠标右键点击时，才会弹出<code>alert( )</code>。</p>
<p>先在<code>methods</code>里编写一个<code>handleClick</code>方法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>   <span class="hljs-comment">//...</span><br>    <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;click&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中使用鼠标修饰符，确定只有点击鼠标右键时才会响应。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div @click.<span class="hljs-property">right</span>=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<h4 id="表单数据的双绑定"><a href="#表单数据的双绑定" class="headerlink" title="表单数据的双绑定"></a>表单数据的双绑定</h4><p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc391">input的数据双向绑定</a></p>
<p>这个可能是最简单和最常用的双向绑定方式，我们先在模板中给写一个<code>&lt;input/&gt;</code>，然后在<code>data</code>中声明一个<code>name</code>的变量，有了变量后和<code>input</code>进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123; <br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;</span><br><span class="hljs-string">            &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">            &lt;input v-model=&quot;name&quot; /&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">        `</span> <br>    &#125;) <br>    <span class="hljs-keyword">const</span> vm=app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>写完这个，打开浏览器预览一下效果。可以看到，当<code>input</code>改变时，对应的变量也会变化，页面中的值也会变化。</p>
<p>那什么是双向绑定呢？</p>
<ul>
<li><p><strong>data中的变量改变时，绑定的数据会跟随变化，此为一项修改；</strong></p>
</li>
<li><p><strong>当通过页面修改数据，data中的变量也随之改变，这就是另一项修改。两个彼此依存改变，就为双向数据绑定。</strong></p>
</li>
</ul>
<p>目前这种就完成了<code>&lt;input /&gt;</code>的双向数据绑定。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc392">textarea的数据双向绑定</a></p>
<p>以前我们写<code>HTML</code>的时候，写<code>textarea</code>标签都是成对出现的，比如这样<code>&lt;textarea&gt;&lt;/textarea&gt;</code>，如果想在Vue中实现textarea的双向数据绑定，这时候只要写单标签就可以了，剩下的事情Vue底层就帮你完成了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&lt;input v-model=&quot;name&quot; /&gt;&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&lt;textarea v-model=&quot;name&quot; /&gt;&lt;/div&gt;  </span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>这样也是可以实现数据的双向绑定的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc393">checkbox数据双向绑定</a></p>
<p><code>checkbox</code>是一个勾选框（复选框），如果只有一个选项时，我们可以给<code>&lt;checkbox /&gt;</code>一个布尔值，也就是true或者false。</p>
<p>现在data中新声明一个变量<code>checked</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">checked</span>:<span class="hljs-literal">false</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;&#123;&#123;checked&#125;&#125;&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;checked&quot;</span> /&gt;&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>写完后进行预览，双向绑定是完全可以实现的。<code>checkbox</code>还有一个功能就是复选，可以选择多个。</p>
<p>比如还是象牙山三女的例子，现在勾选谁，谁就可以显示在页面上。</p>
<p>这时候要先定义一个变量，这个变量是一个空数组。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">checked</span>:<span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">girls</span>:[]<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后增加模板中的内容如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;girls&#125;&#125;<br>    大脚&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;大脚&quot;</span> /&gt;<br>    刘英&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;刘英&quot;</span> /&gt;<br>    晓红&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;晓红&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候就可以实现多选的双向数据绑定了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc394">Radio的双向数据绑定</a></p>
<p>学会了<code>checkbox</code>的双向数据绑定，<code>radio</code>单选按钮就简单了。但是需要注意的是，既然是单选，这时候data中的变量就不能是一个数字了，一般是一个字符串。比如我们这里新定义了一个<code>girl</code>的变量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">girl</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>复制上面的template代码，然后进行修改，把<code>checkbox</code>换成<code>radio</code>,代码如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;girl&#125;&#125;<br>    大脚&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;大脚&quot;</span> /&gt;<br>    刘英&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;刘英&quot;</span> /&gt;<br>    晓红&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;晓红&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这样就完成了单项选择的数据双向数据绑定了。</p>
<p><strong>checkbox里的true-value和false-value</strong></p>
<p>在浏览器中预览时，当选择复选框时，会显示true，没选中显示false。</p>
<p>现在的需求是，我选中的时候显示<code>JSPang.com</code>，没选中的时候显示<code>技术胖</code>。这时候要如何处理那？</p>
<p>Vue给我们提供了这样两个属性<code>true-value</code>和<code>false-value</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候在模板中编写下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;div&gt;&#123;&#123;name&#125;&#125;</span><br><span class="hljs-string">    &lt;input </span><br><span class="hljs-string">        type=&quot;checkbox&quot; </span><br><span class="hljs-string">        v-model=&quot;name&quot;  </span><br><span class="hljs-string">        true-value=&quot;JSPang.com&quot;</span><br><span class="hljs-string">        false-value=&quot;技术胖&quot;</span><br><span class="hljs-string">        /&gt;&lt;/div&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中预览，就可以看到，在选择时插值表达式会变成<code>JSPang.com</code>，在没选中时会变成<code>技术胖</code>。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc396">v-model数据双向绑定修饰符</a></p>
<p><strong>lazy修饰符</strong></p>
<p>我们作一个<code>input</code>的绑定效果，现在data中声明一个<code>message</code>变量，值为空。然后在模板中写一个<code>&lt;input /&gt;</code>并和<code>message</code>进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>模板中进行双向数据绑定：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message&#125;&#125;&lt;input v-model=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候当你在文本框中输入任何内容的时候，插值表达式会跟着改变。如果你不想马上显示，就可以用<code>lazy</code>修饰符，这样就可以实现当输入完成后，失去焦点再进行改变。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message&#125;&#125;&lt;input v-model.<span class="hljs-property">lazy</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>写完lazy修饰符后，可以看一下效果，这时候的效果就和我们想象的一样了。</p>
<p><strong>number修饰符</strong></p>
<p><code>&lt;input /&gt;</code>输入的内容无论是数字还是字母，最终都会变为<code>字符串</code>。如果想最终输入的变成数字，你就可以使用<code>number</code>修饰符了。</p>
<p>比如我们现在去掉<code>lazy</code>修饰符，直接输入数字，这时候你修改插值表达式的结果，输出当前类型。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;<span class="hljs-keyword">typeof</span> message&#125;&#125;&lt;input v-model=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候你预览，就会发现最终input绑定的值会变成字符串类型。这是html的底层逻辑造成的，这时候我们可以使用<code>number</code>修饰，解决这个问题。加上<code>number</code>修饰符后，<strong>你输入的值只要是数字</strong>，就变成了number类型。（也就是说，如果你输入的是字母，它还会是字符串类型）</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;<span class="hljs-keyword">typeof</span> message&#125;&#125;&lt;input v-model.<span class="hljs-property">number</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p><strong>trim修饰</strong></p>
<p><code>trim</code>修饰符大家一定不陌生，它是用来消除<code>input</code>框输入内容前后的空格的。现在我们再字符串上输入空格，其实它会在DOM元素上进行增加空格的，这个可以在控制台清楚的看出(详细请看视频操作)。 加入<code>trim</code>修饰符后，Vue就会自动给我们去除前后的空格。</p>
<p>现在data中新声明一个变量，比如叫做<code>message1</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//......</span><br>        <span class="hljs-attr">message1</span>: <span class="hljs-string">&#x27;JSPang.com&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>用法如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message1&#125;&#125;&lt;input v-model.<span class="hljs-property">trim</span>=<span class="hljs-string">&quot;message1&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候Vue就会自动为我们去除前后空格，但不会去除字符串中间的空格。</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%89%8D%E7%AB%AF/" class="category-chain-item">前端</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/JavaScript/">#JavaScript</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08/14/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="JavaScript基础知识">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">JavaScript基础知识</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08/13/JavaScript-05/" title="JavaScript 05">
                        <span class="hidden-mobile">JavaScript 05</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="vcomment" class="comment"></div> 
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
  <script>
    var notify = '' == true ? true : false;
    var verify = '' == true ? true : false;
      window.onload = function() {
          new Valine({
              el: '#vcomment',
              app_id: "AwHBUAjSP1GvDVpiBgxfS2Pg-gzGzoHsz",
              app_key: "kMsGLN3hzkQJuLrmqQBgquFF",
              placeholder: "说点什么",
              avatar:"retro",
              visitor: true       

          });
      }
  </script>

 
  <noscript>Please enable JavaScript to view the comments</noscript>



  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  




  
  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  
      <script>
        MathJax = {
          tex    : {
            inlineMath: { '[+]': [['$', '$']] }
          },
          loader : {
            load: ['ui/lazy']
          },
          options: {
            renderActions: {
              findScript    : [10, doc => {
                document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                  const display = !!node.type.match(/; *mode=display/);
                  const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                  const text = document.createTextNode('');
                  node.parentNode.replaceChild(text, node);
                  math.start = { node: text, delim: '', n: 0 };
                  math.end = { node: text, delim: '', n: 0 };
                  doc.math.push(math);
                });
              }, '', false],
              insertedScript: [200, () => {
                document.querySelectorAll('mjx-container').forEach(node => {
                  let target = node.parentNode;
                  if (target.nodeName.toLowerCase() === 'li') {
                    target.parentNode.classList.add('has-jax');
                  }
                });
              }, '', false]
            }
          }
        };
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>

  <script defer src="/js/leancloud.js" ></script>




  
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/yinghua.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiantiao.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiaoxingxing.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/caidai.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":-15,"vOffset":-15},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
