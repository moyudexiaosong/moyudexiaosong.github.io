

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=light>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon.jpg">
  <link rel="icon" href="/img/icon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="Vue3.x从零开始学基础语法篇1.初识vue3.x编写第一个HelloWorld 在VSCode中新建立一个index.html的文件。 打开index.html后，直接输入html，然后会出现选项，直接选择html:5，就可以快速生成html的基本结构。 当然，你也可以直接输入!号，然后回车，也会给我们输出同样的结果。根据自己的喜好，自行选择就好。 直接引入Vue3.x源码 Vue官方提供直">
<meta property="og:type" content="article">
<meta property="og:title" content="vue3.x 基础语法篇">
<meta property="og:url" content="http://example.com/2022/08/13/vue3-x-01/index.html">
<meta property="og:site_name" content="摸鱼之家">
<meta property="og:description" content="Vue3.x从零开始学基础语法篇1.初识vue3.x编写第一个HelloWorld 在VSCode中新建立一个index.html的文件。 打开index.html后，直接输入html，然后会出现选项，直接选择html:5，就可以快速生成html的基本结构。 当然，你也可以直接输入!号，然后回车，也会给我们输出同样的结果。根据自己的喜好，自行选择就好。 直接引入Vue3.x源码 Vue官方提供直">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/photo21.jpeg">
<meta property="article:published_time" content="2022-08-13T11:02:54.000Z">
<meta property="article:modified_time" content="2022-08-17T04:19:44.302Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/img/photo21.jpeg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>vue3.x 基础语法篇 - 摸鱼之家</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"AwHBUAjSP1GvDVpiBgxfS2Pg-gzGzoHsz","app_key":"kMsGLN3hzkQJuLrmqQBgquFF","server_url":"https://awhbuajs.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>快乐老家</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                档案馆
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                目录
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/photo21.jpeg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="vue3.x 基础语法篇"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-13 19:02" pubdate>
          August 13, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          55k words
        
      </span>
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">vue3.x 基础语法篇</h1>
            
              <p class="note note-info">
                
                  
                    Last updated on 8 days ago
                  
                
              </p>
            
            <div class="markdown-body">
              
              <hr>
<h1 id="Vue3-x从零开始学"><a href="#Vue3-x从零开始学" class="headerlink" title="Vue3.x从零开始学"></a>Vue3.x从零开始学</h1><h2 id="基础语法篇"><a href="#基础语法篇" class="headerlink" title="基础语法篇"></a>基础语法篇</h2><h3 id="1-初识vue3-x"><a href="#1-初识vue3-x" class="headerlink" title="1.初识vue3.x"></a>1.初识vue3.x</h3><p><strong>编写第一个HelloWorld</strong></p>
<p>在VSCode中新建立一个<code>index.html</code>的文件。</p>
<p>打开<code>index.html</code>后，直接输入<code>html</code>，然后会出现选项，直接选择<code>html:5</code>，就可以快速生成html的基本结构。</p>
<p>当然，你也可以直接输入<code>!</code>号，然后<code>回车</code>，也会给我们输出同样的结果。根据自己的喜好，自行选择就好。</p>
<p><strong>直接引入Vue3.x源码</strong></p>
<p>Vue官方提供直接引入的CDN服务地址，只要用<code>&lt;script&gt;</code>标签，就可以直接在<code>&lt;head&gt;</code>里引入<code>Vue3</code>，并且使用它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script src=<span class="hljs-string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>引入Vue3的框架之后，我们就可以写Vue的代码了。先在<code>&lt;body&gt;</code>标签中，加入一个<code>&lt;div&gt;</code>层,并给他一个<code>id=&quot;root&quot;</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Hello World&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    Vue.createApp(&#123;<br>        template: &#x27;&lt;div&gt;Hello World&lt;/div&gt;&#x27;<br>    &#125;).mount(&quot;#app&quot;)<br>&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>其中，Vue的语法为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;   <span class="hljs-comment">//创建一个Vue实例，简单理解就说，我要使用Vue了</span><br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;Hello World&lt;/div&gt;&#x27;</span>   <span class="hljs-comment">// template是模板的意思，就是在JS里写html代码</span><br>&#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)   <span class="hljs-comment">//这个模板需要放一个位置，也就是说挂载，挂载到`id=app`的DOM上</span><br></code></pre></td></tr></table></figure>
<ol>
<li>用<code>Vue.</code>创建一个实例对象，符合命名规范即可</li>
<li>用<code>template</code>创建一个模版，里面是<code>html</code>代码</li>
<li><code>.mount</code>是模版要挂载的位置</li>
</ol>
<h3 id="2-Vue3编写的计数器"><a href="#2-Vue3编写的计数器" class="headerlink" title="2. Vue3编写的计数器"></a>2. Vue3编写的计数器</h3><hr>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;   <br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    counter:1<br>                &#125;<br>            &#125;,<br>            mounted()&#123;<br>                setInterval(()=&gt;&#123;<br>                    this.counter+=1<br>                &#125;,1000)<br>            &#125;,//只要页面一加载，就会执行这个步骤<br>            template:&#x27;&lt;div&gt;&#123;&#123;counter&#125;&#125;&lt;/div&gt;&#x27;<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>计数器能变化，肯定是需要一个变量的，这个变量起名为<code>counter</code>。在Vue的<code>template</code>(模板)中使用变量，需要用到字面量标识双大括号，我喜欢把这个双大括号叫做字面量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;&#123;&#123;counter&#125;&#125;&lt;/div&gt;&#x27;</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>到目前为止，只是在模板中使用了<code>counter</code>变量，但是还没有声明，声明这个变量需要在<code>data()</code>函数中，具体代码如下，可以在浏览器中看到 一个1显示出来。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">counter</span>: <span class="hljs-number">1</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p><strong>mounted( )中实现自增</strong></p>
<p><code>mounted</code>是一个声明周期钩子函数，可以把他想成是页加载渲染完成，<strong>自动执行</strong>，不用调用的方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;页面加载完成后-自动执行&#x27;</span>)<br>    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">counter</span> += <span class="hljs-number">1</span>   <span class="hljs-comment">//这个this.counter指向的就是data中的counter</span><br>        <span class="hljs-comment">//this.$data.counter +=1   //效果相同</span><br>    &#125;, <span class="hljs-number">1000</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这节就是你要转变的一个观点，从面向DOM编程，改为面向数据编程。</p>
<h3 id="3-来宾欢迎语展示"><a href="#3-来宾欢迎语展示" class="headerlink" title="3.来宾欢迎语展示"></a>3.来宾欢迎语展示</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    content:&quot;&quot;,<br>                    setMeal:&#x27;芝士蛋糕 黄金脆皮鸡 螺蛳粉 火锅&#x27;,<br>                    isShowMeal:false,<br>                &#125;<br>            &#125;,<br>            methods:&#123;<br>                welcomBtnClick()&#123;<br>                    this.content=&quot;你来啦亲&quot;<br>                &#125;,<br>                byeBtnClick()&#123;<br>                    this.content=&quot;怎么又走了&quot;<br>                &#125;,<br>                showOrHide()&#123;<br>                    this.isShowMeal=!this.isShowMeal<br>                &#125;,<br>            &#125;,<br>            template:`<br>            &lt;div&gt;<br>                &lt;div&gt;&#123;&#123;content&#125;&#125;&lt;/div&gt;<br>                &lt;button v-on:click=&quot;welcomBtnClick&quot;&gt;有人来了&lt;/button&gt;&amp;nbsp;<br>                &lt;button v-on:click=&quot;byeBtnClick&quot;&gt;有人走了&lt;/button&gt;<br>                &lt;div v-if=&quot;isShowMeal&quot;&gt;&#123;&#123;setMeal&#125;&#125;&lt;/div&gt;<br>                &lt;button v-on:click=&quot;showOrHide&quot;&gt;显示/隐藏菜单&lt;/button&gt;<br>            &lt;/div&gt;<br>            `<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>Vue3的绑定事件和事件方法</strong></p>
<p>先在<code>methods</code>属性里加入两个方法<code>welcomeBtnClick</code>和<code>byeBtnClick</code>，再给两个按钮绑定事件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"> <span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">welcomeBtnClick</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">&quot;欢迎你的光临，贵宾一位！&quot;</span><br>    &#125;,<br>    <span class="hljs-title function_">byeBtnClick</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-string">&quot;欢迎下次光临，真空套餐下次8折优惠&quot;</span><br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;</span><br><span class="hljs-string">               &lt;div&gt;&#123;&#123;content&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">               &lt;button v-on:click=&quot;welcomeBtnClick&quot;&gt;有顾客来&lt;/button&gt;&amp;nbsp;</span><br><span class="hljs-string">               &lt;button v-on:click=&quot;byeBtnClick&quot;&gt;顾客离开&lt;/button&gt;</span><br><span class="hljs-string">          &lt;/div&gt;`</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br></code></pre></td></tr></table></figure>
<p><strong>显示和隐藏服务</strong></p>
<p>我们需要新生成一个套餐的变量<code>setMeal</code>，然后还要有一个是否展示的变量<code>isShowMeal</code>。有了这个变量之后，我们还需要有一个能改变<code>isShowMeal</code>的响应方法<code>showOrHideBtnClick</code>.用来控制套餐的显示很隐藏。</p>
<p><code>v-if</code>,它的作用是如果值为真，就显示这个DOM元素，如果为假，就不显示这个元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">showOrHideBtnClick</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowMeal</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isShowMeal</span><br>&#125;<br><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;div&gt;</span><br><span class="hljs-string">            &lt;div&gt;&#123;&#123;content&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">            &lt;button v-on:click=&quot;welcomeBtnClick&quot;&gt;有顾客来&lt;/button&gt;&amp;nbsp;</span><br><span class="hljs-string">            &lt;button v-on:click=&quot;byeBtnClick&quot;&gt;顾客离开&lt;/button&gt;</span><br><span class="hljs-string">            &lt;div&gt;</span><br><span class="hljs-string">                &lt;div v-if=&quot;isShowMeal&quot; &gt;&#123;&#123;setMeal&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">                &lt;button v-on:click=&quot;showOrHideBtnClick&quot;&gt;显示/隐藏套餐&lt;/button&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;`</span><br></code></pre></td></tr></table></figure>
<h3 id="4-Vue3列表和循环-制作菜单"><a href="#4-Vue3列表和循环-制作菜单" class="headerlink" title="4.Vue3列表和循环-制作菜单"></a>4.Vue3列表和循环-制作菜单</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>    &lt;script&gt;<br>        Vue.createApp(&#123;<br>            data()&#123;<br>                return&#123;<br>                    list:[&#x27;1-芝士蛋糕&#x27;,&#x27;2-章鱼小丸子&#x27;,&#x27;3-车仔面&#x27;],<br>                    inputValue:&#x27;&#x27;<br>                &#125;<br>            &#125;,<br>            methods:&#123;<br>                handleAddItem()&#123;<br>                    this.list.push(this.inputValue)<br>                    this.inputValue=&#x27;&#x27;<br>                &#125;<br>            &#125;<br>            ,<br>            template:`<br>            &lt;div&gt;<br>                &lt;input v-model=&quot;inputValue&quot; /&gt; <br>                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;<br>                &lt;ul&gt;<br>                    &lt;li v-for=&quot;item of list&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;<br>                &lt;/ul&gt;<br>                &lt;ul&gt;<br>                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;(&#123;&#123;index&#125;&#125;)&#123;&#123;item&#125;&#125;&lt;/li&gt;<br>                &lt;/ul&gt;<br>            &lt;/div&gt;<br>            `<br>        &#125;).mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/moyudexiaosong/picGo-use/202208151950442.png" srcset="/img/loading.gif" lazyload alt="image-20220815195021376" style="zoom:67%;" /></p>
<p><strong>声明数组并循环</strong></p>
<p>需要一个数据<code>菜单列表</code>。在<code>createrApp()</code>方法里增加一个<code>data()</code>方法，声明<code>list[]</code>数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">list</span>: [<span class="hljs-string">&#x27;1-大脚&#x27;</span>,<span class="hljs-string">&#x27;2-刘英&#x27;</span>,<span class="hljs-string">&#x27;3-晓红&#x27;</span>]<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>有了数组，需要在模板中循环出来。这个需要用到<code>v-for</code>指令.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;item of list&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这句代码的意思是，我要进行循环，循环的数据是<code>list</code>,<code>list</code>中的每一项我会放到item中，然后使用字面量在模板中进行展示就可以了。</p>
<p><code>v-for</code>指令还有一个索引值，可以如下写法，打印出索引值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;li v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(item,index) of list&quot;</span>&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;<br></code></pre></td></tr></table></figure>
<p>会了循环之后，我们就可以根据前面的知识，做一个动态的可交互的菜单列表了。</p>
<p><strong>动态增加菜单</strong></p>
<p>先来做一个简单的效果，就是点击按钮后，就增加一个菜到列表中。先去掉数组中的值，然后来写一个按钮，按钮绑定<code>handleAddItem</code>事件。代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">list</span>: []<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">methods</span>: &#123;<br>            <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;&quot;</span>)<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">            &lt;div&gt;</span><br><span class="hljs-string">                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;</span><br><span class="hljs-string">                &lt;ul&gt;</span><br><span class="hljs-string">                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">                &lt;/ul&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">        `</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>现在增加的<code>菜</code>都是一样的，而我们最终的目的是能够自定义的增加菜单。这个时候我们就需要一个<code>input</code>输入框了，而且需要用<code>v-model</code>指令，进行绑定。代码如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-comment">//---此处修改</span><br>                <span class="hljs-attr">inputValue</span>: <span class="hljs-string">&#x27;&#x27;</span>,  <br>                <span class="hljs-attr">list</span>: []   <br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">methods</span>: &#123;<br>            <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-comment">//----此处修改</span><br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span>)<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">            &lt;div&gt;</span><br><span class="hljs-string">                &lt;!--此处修改--&gt;</span><br><span class="hljs-string">                &lt;input v-model=&quot;inputValue&quot; /&gt;</span><br><span class="hljs-string">                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;</span><br><span class="hljs-string">                &lt;ul&gt;</span><br><span class="hljs-string">                    &lt;li v-for=&quot;(item,index) of list&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">                &lt;/ul&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">        `</span><br>    &#125;).<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>这时候我们就可以根据我们的喜欢增加菜了，比如增加一个<code>烤乳猪</code>、<code>螺蛳粉</code>。</p>
<p>现在这个效果还是不太完美，在实际工作中，如果我们增加完成后，希望<code>&lt;input/&gt;</code>的值为空。这个时候你要再明白Vue中的一个特性，就是双向数据绑定。也就是这时候我们改变<code>inputValue</code>的值，页面文本框的内容也会被清空。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">handleAddItem</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputValue</span> = <span class="hljs-string">&#x27;&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>写完后，可以在浏览器中打开，看一下最终的效果。</p>
<p>好了，让我们总结一下，这篇文章我们都学到了那些内容，学到<code>v-for</code>循环指令，<code>v-model</code>数据双向绑定。后面我们还会继续详解这些内容。</p>
<h3 id="5-Vue3组件化开发-每个菜单都是组件"><a href="#5-Vue3组件化开发-每个菜单都是组件" class="headerlink" title="5.Vue3组件化开发-每个菜单都是组件"></a>5.Vue3组件化开发-每个菜单都是组件</h3><p><strong>如何编写一个组件</strong></p>
<p>Vue中一个最主要的特性，就是让你使用组件化进行开发。页面上你看到的任何的东西，都可以写成组件。先来看看如何编写一个静态的Vue组件，编写一个标题组件。</p>
<p>为了方便书写，把<code>&lt;script&gt;</code>标签的第一行前，声明一个变量，比如就叫做<code>app</code>,声明完变量之后，就可以把<code>mount</code>部分独立出来了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>      <span class="hljs-comment">//.....somting........</span><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>有了<code>app</code>变量，可以非常方便的自定义组件并使用了。比如现在写一个关于标题的组件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;my-title&#x27;</span>, &#123;<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;h1 style=&quot;text-align:center&quot;&gt;象牙山洗脚城&lt;/h1&gt;&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>有了这个组件，就可以在<code>app</code>的模板部分使用了，比如我们放在<code>template</code>的最上面，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;</span><br><span class="hljs-string">        &lt;my-title /&gt;</span><br><span class="hljs-string">        &lt;!--...somting......--&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc320">动态组件的编写</a></p>
<blockquote>
<p>什么是动态组件？也许我说的并不标准，我这里指的动态组件是显示内容不固定，通过父组件或者程序控制而输出的内容。</p>
</blockquote>
<p>现在会了静态组件的基本使用方法，把上节课的<code>菜单</code>组件单独出来，写一个组件，这个组件会绑定一些<code>props</code>，用于接受父组件传递过来的参数,然后动态显示出内容。 动态组件有一个关键的指令是<code>v-bind</code>,用这种方法，组件可以通过<code>props</code>取得对应的值。代码如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;my-jiali&#x27;</span>, &#123;<br>    <span class="hljs-attr">props</span>: [<span class="hljs-string">&#x27;item&#x27;</span>, <span class="hljs-string">&#x27;index&#x27;</span>],<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">` &lt;li &gt;[&#123;&#123;index&#125;&#125;]-&#123;&#123;item&#125;&#125;&lt;/li&gt;`</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p><code>props</code>是一个数组，可以接受多个值。有了<code>my-jiali</code>组件后，就可以在<code>app</code>的<code>template</code>中使用了，方法如下。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;my-jiali <br>    v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;(item,index) of list&quot;</span>  <br>    v-<span class="hljs-attr">bind</span>:item=<span class="hljs-string">&quot;item&quot;</span> <br>    v-<span class="hljs-attr">bind</span>:index=<span class="hljs-string">&quot;index&quot;</span>  <br>/&gt;<br></code></pre></td></tr></table></figure>
<p>这时候肯定会有小伙伴认为，这也没有减少代码的工作量哦，第一是因为我们的代码还比较简单，第二是组件的意义是降低程序的耦合性，让大规模开发编程可能。比如一个页面，分成几个人开发，每个人写不同的模块，写好后拼凑在一起。有了组件这就变的非常容易。</p>
<p>这里给出全部代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;列表&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app = Vue.createApp(&#123;<br>        data() &#123;<br>            return &#123;<br>                inputValue: &#x27;&#x27;,<br>                list: []<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            handleAddItem() &#123;<br>                this.list.push(this.inputValue)<br>                this.inputValue = &#x27;&#x27;<br>            &#125;<br>        &#125;,<br>        template: `<br>            &lt;div&gt;<br>                &lt;my-title /&gt;<br>                &lt;input v-model=&quot;inputValue&quot; /&gt;<br>                &lt;button v-on:click=&quot;handleAddItem&quot;&gt;增加&lt;/button&gt;<br>                &lt;ul&gt;<br>                    &lt;my-jiali <br>                        v-for=&quot;(item,index) of list&quot;  <br>                        v-bind:item=&quot;item&quot; <br>                        v-bind:index=&quot;index&quot;  <br>                    /&gt;<br>                &lt;/ul&gt;<br>            &lt;/div&gt;<br><br>        `<br>    &#125;)<br><br>    app.component(&#x27;my-title&#x27;, &#123;<br>        template: &#x27;&lt;h1 style=&quot;text-align:center&quot;&gt;象牙山洗脚城&lt;/h1&gt;&#x27;<br>    &#125;)<br><br>    app.component(&#x27;my-jiali&#x27;, &#123;<br>        props: [&#x27;item&#x27;, &#x27;index&#x27;],<br>        template: ` &lt;li &gt;[&#123;&#123;index&#125;&#125;]-&#123;&#123;item&#125;&#125;&lt;/li&gt;`<br>    &#125;)<br>    app.mount(&quot;#app&quot;)<br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<h3 id="6-Vue的createApp-和mount-方法讲解"><a href="#6-Vue的createApp-和mount-方法讲解" class="headerlink" title="6.Vue的createApp()和mount()方法讲解"></a>6.Vue的createApp()和mount()方法讲解</h3><p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc322">最常见的Vue初级代码</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo6&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app = Vue.createApp(&#123;&#125;)<br>    app.mount(&quot;#app&quot;)<br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc323">createApp()和mount()方法讲解</a></p>
<p>现在你先看下面两句JavaScript代码,代码中有两个重要的方法<code>createApp()</code>和<code>mount()</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;&#125;)<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br></code></pre></td></tr></table></figure>
<ul>
<li><code>createApp()</code>方法：</li>
</ul>
<p>在第一篇文章编写<code>HelloWorld</code>的时候，就写过这句话<code>Vue.createApp()</code>从英文单词上理解，这个就是创建一个应用<code>create-创建</code>，<code>App-Application-应用</code>，前面的Vue就是Vue这个框架，所以<code>Vue.createApp()</code>的意思就是创建一个Vue的应用。</p>
<ul>
<li><code>mount()</code>方法</li>
</ul>
<p><code>mount()</code>方法就是挂载到某个Html的<code>DOM</code>节点上，它接受一个字符串型参数,参数可以使用CSS选择器，一般都是ID选择器的形式，指定挂载的<code>DOM</code>元素。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc324">createApp()方法的基本参数讲解</a></p>
<p>当你明白了<code>createApp()</code>方法的作用，接下来可以更深层次的去了解它的参数。首先它接受一个对象形式的参数<code>&#123;&#125;</code>。这个对象就是告诉Vue应该如何展现我们最外层的组件。 根据我们在初始章节学习的内容，我们很容易写出下面的内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;jspang.com&#x27;</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span><br>    &#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>写完后，可以到浏览器中预览一下结果。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc325">如何获取Vue的根组件vm</a></p>
<p>当你使用<code>creatApp()</code>方法创建了一个Vue应用时，如何能获取根组件那?其实你使用<code>mount()</code>方法时，就会返回根组件。下面的代码，声明一个变量来获取根组件，并打印出来。通过打印你可以看出根组件是一个<code>Proxy</code>形式的对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> vm = app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(vm)<br></code></pre></td></tr></table></figure>
<p>这里为什么我把根组件起名为<code>vm</code>那？我先按下不表，我们先来了解一下<code>Vue</code>的设计模式。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc326">mvvm设计模式讲解</a></p>
<p>Vue的编程设计模式应该叫做<code>mvvm</code>的设计模式。什么叫做<code>mvvm</code>？它首先是面向数据的编程，程序中定义了数据，然后定义了模板，<code>Vue</code>就可以把数据和模板自动进行关联。最后挂载到真实的<code>DOM</code>上，展示给用户。</p>
<blockquote>
<p>mvvm解释: 第一个<code>m</code>代表<code>model</code>数据，第一个<code>v</code>代表<code>view</code>视图，最后两个字幕<code>vm</code>代表<code>viewModel</code>视图数据连接层。</p>
</blockquote>
<p>如果你看完这个解释还不太明白，我们可以看一下<code>Demo6.html</code>进行理解。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;jspang.com&#x27;</span>   <span class="hljs-comment">//1.在这里定义了数据，也就是`model`数据</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span> <span class="hljs-comment">//2.在这里定义了模板，也就是`view`，</span><br>        <span class="hljs-comment">//定义后的自动关联，就叫做`vm`，viewModel数据视图连接层。</span><br>    &#125;)<br>    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p><code>model</code>数据，是我们自己定义的，<code>view</code>模板也是我们自己定义的，但是<code>vm</code>是Vue自动给我们关联的。</p>
<p>当我们明白了什么是<code>mvvm</code>后，你就知道为什么我们给根组件起名<code>vm</code>了。</p>
<p>当我们获取了<code>vm</code>根节点后，其实就可以操作里边的数据了。比如在控制台中输入下面的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">vm.<span class="hljs-property">$data</span>.<span class="hljs-property">message</span> =<span class="hljs-string">&#x27;技术胖&#x27;</span><br></code></pre></td></tr></table></figure>
<p>这个时候你会发现网页界面也跟着发生了变化，变成了<code>技术胖</code>.</p>
<p>好了，我们总结一下这篇文章我们都学到了什么，首先我们学习了Vue中的两个最基本方法<code>createApp()</code>和<code>mount()</code>,然后学习了如何获取和使用<code>根组件</code>，在学习根组件的时候又讲解了Vue框架的基本模式是<code>mvvm</code>，并对<code>mvvm</code>模式进行了具体讲解。</p>
<h3 id="7-Vue的生命周期函数-1"><a href="#7-Vue的生命周期函数-1" class="headerlink" title="7.Vue的生命周期函数-1"></a>7.Vue的生命周期函数-1</h3><p>这篇文章我们讲解Vue3中的生命周期函数，生命周期函数你可以这样理解，就是<strong>在某一时刻会自动执行</strong>的函数，这句话你可以注意两个关键词<code>某一时刻</code>和<code>自动执行</code>。学完这节以后，你会对这两个词有深刻的理解。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc328">准备一个空白的页面</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Demo7<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vue@next&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;jspang.com&#x27;</span></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> vm = app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc329">自动执行函数的理解</a></p>
<p>如果要理解什么是自动执行函数，我认为可以对比来看，先清楚什么是被动执行函数。比如我们写了一个<code>handleItemClick( )</code>方法，然后让模板里的<code>&lt;h2&gt;</code>点击后执行此事件，代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>: &#123;<br>    <span class="hljs-title function_">handleItemClick</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;jspang.com&#x27;</span>)<br>     &#125;<br> &#125;,<br> <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2 v-on:click=&#x27;handleItemClick&#x27;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;</span><br></code></pre></td></tr></table></figure>
<p>这时候可以打开浏览器，看一下这个效果。你需要点击对应的dom元素，他才会执行方法，这个就是被动执行函数。当你了解被动执行函数，再来了解什么是自动执行函数。写一个<code>mounted</code>方法，它就会自动执行。这种就是自动执行函数。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>     <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;mounted&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候你再刷新一下网页，就可以看出<code>mounted</code>被直接弹出了。这种没有任何操作，自动执行的方法，就叫做自动执行函数。</p>
<p>当你明白了什么是自动执行函数后，我们再来学习Vue3.x的生命周期函数。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc330">Vue3.x生命周期函数</a></p>
<p>学习生命周期函数，这里我们用一张Vue官方给出的声明周期函数图片来进行理解。看图理解会更透彻些。</p>
<p><img src="https://cdn.jsdelivr.net/gh/moyudexiaosong/picGo-use/202208151958288.png" srcset="/img/loading.gif" lazyload alt="https://newimg.jspang.com/Vuelifecycle.png"></p>
<ul>
<li>beforeCreate( ) ：在实例生成之前会自动执行的函数</li>
<li>created( ) : 在实例生成之后会自动执行的函数</li>
<li>beforeMount( ) : 在模板渲染完成之前执行的函数</li>
<li>mounted( ) : 在模板渲染完成之后执行的函数</li>
</ul>
<p>我们也写了对应的方法，通过这些代码和查看效果，可以很好的理解生命周期函数执行的先后顺序。代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeCreate&#x27;</span>)<br>&#125;,<br><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;created&#x27;</span>)<br>&#125;,<br><span class="hljs-title function_">beforeMount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeMount&#x27;</span>)<br>&#125;,<br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;mounted&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>写完这些代码后，你可以到浏览器中查看一下效果。由于Vue的生命周期函数内容很多，所以我们分两节来讲。下节继续讲解Vue的生命周期函数。</p>
<h3 id="8-Vue的生命周期函数-2"><a href="#8-Vue的生命周期函数-2" class="headerlink" title="8.Vue的生命周期函数-2"></a>8.Vue的生命周期函数-2</h3><p>接着上篇文章继续学习，上篇文章只讲了Vue3中的前四个生命周期。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc332">beforeUpdate和updated生命周期函数</a></p>
<p>这两个生命周期函数在Vue中的data数据发生变化时，才会被执行，一个是在变化之前，一个是在变化之后。先来看<code>beforeUpdate</code>函数，也就是在数据变化之前。</p>
<p>为了能展示这个效果，我们写一个数据变化的功能，每次点击文字都进行改变。在上节课编写的<code>handleItemClick</code>方法中，改变<code>message</code>的值。这里使用了三元运算符，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handleItemClick</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> == <span class="hljs-string">&#x27;jspang.com&#x27;</span> ? <span class="hljs-string">&quot;技术胖&quot;</span> : <span class="hljs-string">&quot;jspang.com&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>有了这个方法之后，再来编写<code>beforeUpdate</code>方法。代码如下：</p>
<ul>
<li>beforeUpdate ：当data中的数据变化时， 会立即自动执行的函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeUpdate&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<ul>
<li>updated：当data中的数据发生变化，页面重新渲染完后，会自动执行的函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">updated</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;updated&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在浏览器中你是可以看出先后顺序的。这个不太直观，如何用代码的方式看出<code>beforeUpdate</code>和<code>updated</code>区别？我们可以通过下面这种方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeUpdate&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>).<span class="hljs-property">innerHTML</span>)<br>&#125;,<br><span class="hljs-title function_">updated</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;updated&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>).<span class="hljs-property">innerHTML</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>通过这种形式，就可以清楚的看出，在<code>beforeUpdate</code>时，DOM的内容并没有渲染更新，而到了<code>updated</code>中DOM的内容已经进行了更新。这就是两个生命周期函数的区别。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc333">beforUnmount( )和unmounted( )生命周期函数</a></p>
<p>这两个生命周期函数是在Vue销毁时自动执行的函数，一个是销毁前执行，一个是销毁后执行。</p>
<ul>
<li>beforeUnmount( ) :当Vue应用失效时，会自动执行的函数</li>
<li>unmounted() : 当Vue应用失效时，且DOM完全销毁之后，会自动执行</li>
</ul>
<p>我们可以先把这两个生命周期函数写在页面上，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeUnmount&#x27;</span>)<br>&#125;,<br><span class="hljs-title function_">unmounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;unmounted&#x27;</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>那如何能看到这个效果那？这个需要在浏览器的控制台中输入销毁代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">unmount</span>()<br></code></pre></td></tr></table></figure>
<p>这时候就会打印出这两个对应的生命周期函数了。当然你这时候如果编写程序看出页面变化，也可以通过打印<code>innerHTML</code>方式。来看出效果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeUnmount&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>).<span class="hljs-property">innerHTML</span>)<br>&#125;,<br><span class="hljs-title function_">unmounted</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;unmounted&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;app&#x27;</span>).<span class="hljs-property">innerHTML</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候在浏览器执行<code>app.unmount()</code>,会看到，在<code>beforeUnmount</code>方法中还是有DOM内容的，然后到了<code>unmounted</code>方法中，就已经没有任何的DOM内容了。</p>
<p>现在来总结一下：Vue3中有八个生命周期函数，</p>
<ul>
<li>beforeCreate( ) ：在实例生成之前会自动执行的函数</li>
<li>created( ) : 在实例生成之后会自动执行的函数</li>
<li>beforeMount( ) : 在模板渲染完成之前执行的函数</li>
<li>mounted( ) : 在模板渲染完成之后执行的函数</li>
<li>beforeUpdate ：当data中的数据变化时， 会立即自动执行的函数</li>
<li>updated：当data中的数据发生变化，页面重新渲染完后，会自动执行的函数</li>
<li>beforeUnmount( ) :当Vue应用失效时，会自动执行的函数</li>
<li>unmounted() : 当Vue应用失效时，且DOM完全销毁之后，会自动执行</li>
</ul>
<p>这些生命周期虽然多，你可以成对的去记忆，这样就有四个关键节点了：创建、渲染、更新、销毁。最主要的理解是他们是自动执行的函数。这节课就到这里，我们下节继续学习。</p>
<h3 id="9-插值表达式和v-bind数据绑定"><a href="#9-插值表达式和v-bind数据绑定" class="headerlink" title="9.插值表达式和v-bind数据绑定"></a>9.插值表达式和v-bind数据绑定</h3><p>这节课我们主要学习两个模板语法：插值表达式和v-bind的使用。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc335">插值表达式是什么？</a></p>
<p>以前经常说的<code>字面量</code>，其实正确叫法应该叫做<code>插值表达式</code>，当然我们公司大部分还是叫<code>字面量</code>的,也就是我们经常看到的<code>&#123;&#123;xxxx&#125;&#125;</code>这样的东西。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo7&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app = Vue.createApp(&#123;<br>        data() &#123;<br>            return &#123;<br>                message: &#x27;jspang.com&#x27;<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            handleItemClick() &#123;<br>                this.message = this.message == &#x27;jspang.com&#x27; ? &quot;技术胖&quot; : &quot;jspang.com&quot;<br>            &#125;<br>        &#125;,<br>        template: &quot;&lt;h2 v-on:click=&#x27;handleItemClick&#x27;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;&quot;<br>    &#125;)<br>    const vm = app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>这时候我们看到在<code>template</code>属性中的<code>&#123;&#123;message&#125;&#125;</code>就是插值表达式。也就是说利用这种形式，可以使用data中的变量，展示在模板中。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc336">插值表达式输出html标签-v-html指令</a></p>
<p>如果我想在变量里，编写一些html的标签，然后输出展现在页面中，这时候会出现点小问题。我们先修改代码，看看问题所在。例如在message中加入<code>&lt;i&gt;</code>标签。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&lt;i&gt;jspang.com&lt;/i&gt;&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>这时候如果什么都不做，直接输出，你在浏览器中看到的结果就是下面的样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;i&gt;jspang.<span class="hljs-property">com</span>&lt;/i&gt;<br></code></pre></td></tr></table></figure>
<p>这并不是你想要的结果，这时候需要使用<code>v-html</code>的标签解决这个问题。把template属性的部分改成下面的样子。需要注意的是这压力要改成”`”符号，否则不能使用双引号这种形式</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 v-html=&quot;message&quot;&gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候再预览，就可以看到浏览器中的字变成了斜体。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc337">插值表达式只作一次渲染-v-once</a></p>
<p>现在这种插值表达式，是跟着data中的数据一起变化的，也就是我们常说的数据双向绑定。但是如果我希望一个插值表达式，只有在第一次渲染去data中的值，而以后不再跟随data变化，这时候就要用到<code>v-once</code>指令。</p>
<p>先来看一下目前这种代码，我们为<code>h2</code>标签，加入相应事件<code>handleItemClick</code>,代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 v-on:click=&quot;handleItemClick&quot; v-html=&quot;message&quot;&gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候在浏览器中可以看到，我们每点击一次h2标签，<code>message</code>的值都是变化的。再改写一下代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 </span><br><span class="hljs-string">                v-on:click=&quot;handleItemClick&quot; </span><br><span class="hljs-string">                v-html=&quot;message&quot;</span><br><span class="hljs-string">                v-once</span><br><span class="hljs-string">            &gt; &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>加入了<code>v-once</code>后，无论data中的数据如何变化，模板也不会再次重新渲染了，这就是<code>v-once</code>的变化。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc338">插值表达式中是可以使用JS表达式的</a></p>
<p>其实在插值表达式中是可以使用JS表达式的，最常用的表达式是三元运算符。比如下面这样的代码也是可以的。比如在data中新声明一个变量<code>count</code>，用三元运算符判断是否是大于2，如果大于2显示大，小于2显示小，编写代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">return</span> &#123;<br>                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&lt;i&gt;jspang.com&lt;/i&gt;&#x27;</span>,<br>                <span class="hljs-attr">count</span>: <span class="hljs-number">5</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">methods</span>: &#123;<br>            <span class="hljs-title function_">handleItemClick</span>(<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span> == <span class="hljs-string">&#x27;jspang.com&#x27;</span> ? <span class="hljs-string">&quot;技术胖&quot;</span> : <span class="hljs-string">&quot;jspang.com&quot;</span><br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 </span><br><span class="hljs-string">                        v-on:click=&quot;handleItemClick&quot; </span><br><span class="hljs-string">                        v-html=&quot;message&quot;</span><br><span class="hljs-string">                        v-once</span><br><span class="hljs-string">                    &gt; &lt;/h2&gt;</span><br><span class="hljs-string">                    &lt;div&gt;&#123;&#123;count&gt;2?&#x27;大&#x27;:&#x27;小&#x27;&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">                    `</span><br>    &#125;)<br>    <span class="hljs-keyword">const</span> vm = app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>当然你也可以使用一些简单的表达式，比如下面这些样子的JS表达式.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;&#123;&#123;<span class="hljs-string">&#x27;jspang&#x27;</span>+<span class="hljs-string">&#x27;.com&#x27;</span>&#125;&#125;&lt;/div&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;&#123;1+2&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>这些形式的表达式都是可以的，但是如果你想用if语句，就是不可以的，因为只能用JS表达式而不能用语句。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc339">v-bind指令的使用</a></p>
<p>现在我们给h2标签加入一个title属性(鼠标放上去会出现的小便签)，属性的值也想使用<code>message</code>。代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 <br>  v-<span class="hljs-attr">on</span>:click=<span class="hljs-string">&quot;handleItemClick&quot;</span> <br>  v-html=<span class="hljs-string">&quot;message&quot;</span><br>  v-once<br>  title=<span class="hljs-string">&quot;message&quot;</span><br>&gt; &lt;/h2&gt;<span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候浏览器中鼠标放上时显示的是双引号里的<code>message</code>这个单词，而并没有出现我们想要的结果。这时候就可以使用<code>v-bind</code>标签了。写成下面的样式就可以把<code>message</code>和变量名进行绑定，输出<code>message</code>变量的内容了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">v-<span class="hljs-attr">bind</span>:title=<span class="hljs-string">&quot;message&quot;</span><br></code></pre></td></tr></table></figure>
<p>总结一下，先学习了插值表达式和一些特殊情况的用法，从而引出了<code>v-html</code>指令,<code>v-once</code>指令和在插值表达式中使用JS表达式。然后又学习了<code>v-bind</code>指令。</p>
<h3 id="10-模板动态参数和阻止默认事件"><a href="#10-模板动态参数和阻止默认事件" class="headerlink" title="10.模板动态参数和阻止默认事件"></a>10.模板动态参数和阻止默认事件</h3><p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc341">v-on的基本用法和简写</a></p>
<p><code>v-on</code>是用来绑定响应事件的，在以前的课程中多次用到了。这里就先写一个最简单的事件，弹出对话框。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">hanldClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;欢迎光临红浪漫&#x27;</span>)<br>    &#125;<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 v-on:click=&quot;hanldClick&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>在浏览器中可以看出，点击<code>&lt;h2&gt;</code>标签，就可以弹出alert效果。这个你一定很熟悉了，所以没必要作过多的讲解。</p>
<p><code>v-on</code>还有一个简写方法，就是可以把<code>v-on:</code>用<code>@</code>代替，比如把代码改成下面的样子，也是完全可以使用的。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;hanldClick&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>不仅<code>v-on</code>有简写方法，上节我们学习的<code>v-bind</code>也有简写方法<code>:</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 v-<span class="hljs-attr">bind</span>:title=<span class="hljs-string">&quot;message&quot;</span>&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>Vue在开发中还是鼓励大家使用简写，这样可以让代码更加清晰。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc342">模板动态参数</a></p>
<p>现在绑定的事件<code>click</code>和<code>title</code>都是固定死的，显得不太灵活，Vue也提供了动态参数，要叫做动态属性的功能。比如这里<code>v-bind:title</code>中的<code>title</code>是来自<code>data</code>中的，就可以这样写。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123; <br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;jspang.com&#x27;</span> ,<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;title&#x27;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-comment">//.........</span><br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;h2 </span><br><span class="hljs-string">            @click=&quot;hanldClick&quot;</span><br><span class="hljs-string">            :[name]=&quot;message&quot;</span><br><span class="hljs-string">        &gt;</span><br><span class="hljs-string">        &#123;&#123;message&#125;&#125;</span><br><span class="hljs-string">        &lt;/h2&gt;</span><br><span class="hljs-string">    `</span><br><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>可以看到我们在<code>data</code>中，定义了一个name的变量，值是一个字符串，然后在绑定属性时我们使用了<code>[]</code>方括号加上data中变量名的形式。这时候绑定的属性就变的灵活了，这种形式就是模板动态参数，也称为动态属性。</p>
<p>可以在浏览器中使用<code>检查</code>的方式，查看此时绑定属性的名称，如果进行修改，比如改成<code>title1</code>,浏览器中也会跟随改变，形成动态效果，这就是动态属性了。</p>
<p><strong>事件动态绑定</strong></p>
<p>这种形式，也可以用到<code>v-on</code>事件绑定当中，比如在<code>data</code>中声明一个<code>event</code>的变量，然后给他一个<code>click</code>,然后用同样的方法实现事件动态绑定。</p>
<p>data中的写法如下</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">return</span>&#123;<br>    <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;jspang.com&#x27;</span> ,<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;title&#x27;</span>,<br>    <span class="hljs-attr">event</span>:<span class="hljs-string">&#x27;click&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>模板中的写法如下</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 </span><br><span class="hljs-string">        @[event]=&quot;hanldClick&quot;</span><br><span class="hljs-string">        :[name]=&quot;message&quot;</span><br><span class="hljs-string">    &gt;</span><br><span class="hljs-string">    &#123;&#123;message&#125;&#125;</span><br><span class="hljs-string">    &lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候就实现了动态绑定方法，可以打开浏览器，看一下效果。当点击<code>&lt;h2&gt;</code>标签时，也会弹出对应的alert效果。当然你还可以帮<code>click</code>改成其他相应事件，比如改成<code>event:&#39;mouseenter&#39;</code>，这样，当鼠标滑入时就可以相应弹出效果了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc343">阻止默认事件</a></p>
<p>最常见的默认事件就是表单的默认提交事件，比如我们这里写一个表单，然后写一个属性为<code>submit</code>的按钮，当点击按钮时，表单就会默认提交到对应的网址。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;form action=<span class="hljs-string">&quot;https://jspang.com&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>默认提交<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/form&gt;<br></code></pre></td></tr></table></figure>
<p>这时候在浏览器中预览，点击“默认提交”按钮，就会立即跳转到我的博客上去，这就是默认响应事件。但是在开发中我们经常需要阻止这种默认响应事件。比如写出下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">hanldeClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;欢迎光临红浪漫&#x27;</span>)<br>    &#125;,<br>    <span class="hljs-title function_">hanldeButton</span>(<span class="hljs-params">e</span>)&#123;<br>        e.<span class="hljs-title function_">preventDefault</span>()<br>    &#125;<br>&#125;,<br><span class="hljs-comment">//...</span><br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">      //....</span><br><span class="hljs-string">&lt;form action=&quot;https://jspang.com&quot; @click=&quot;hanldeButton&quot;&gt;</span><br><span class="hljs-string">    &lt;button type=&quot;submit&quot;&gt;默认提交&lt;/button&gt;</span><br><span class="hljs-string">&lt;/form&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这样写就可以阻止默认事件方法了，但是这是一个经常要做的操作，每次写太麻烦了，所以Vue也给我们提供了一个模板修饰符，直接可以阻止默认行为。写法如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;form <br>    action=<span class="hljs-string">&quot;https://jspang.com&quot;</span> <br>    @click.<span class="hljs-property">prevent</span>=<span class="hljs-string">&quot;hanldeButton&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>默认提交<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>&lt;/form&gt;<br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>methods中的写法</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">hanldeButton</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;jspang.com&#x27;</span>) <br>&#125;<br></code></pre></td></tr></table></figure>
<p>这样就可以阻止默认事件，直接响应对应事件的内容了。<code>prevent</code>就是阻止默认事件的修饰符。修饰符可以简化一些代码的编写，也是比较常用的一个操作。</p>
<p>好了这节课就到这里了，下节课我们再介绍一个模板中最常用的语法，<code>v-if</code>。</p>
<h3 id="11-模板中使用条件判断"><a href="#11-模板中使用条件判断" class="headerlink" title="11.模板中使用条件判断"></a>11.模板中使用条件判断</h3><p>模板中使用条件判断，控制页面的样式，是最常见的应用。Vue中提供了两种基本的方法，一种是我们已经讲过的三元运算符，另一种就是<code>v-if</code>。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc345">三元运算符控制模板样式</a></p>
<p>我们先来看利用三元运算符来控制模板的样式，根据Data中值的不同，显示不同的样式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>    &lt;head&gt;<br>        &lt;meta charset=&quot;UTF-8&quot;&gt;<br>        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>        &lt;title&gt;Demo11&lt;/title&gt;<br>        &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>    &lt;/head&gt;<br><br>    &lt;body&gt;<br>        &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>    &lt;/body&gt;<br>    &lt;script&gt;<br>        const app = Vue.createApp(&#123;<br>            data() &#123;<br>                return &#123;<br>                    message: &#x27;jspang.com&#x27;,<br>                &#125;<br>            &#125;,<br>            methods: &#123;<br>                handleItemClick() &#123;<br>                    this.message = this.message == &#x27;jspang.com&#x27; ? &quot;技术胖&quot; : &quot;jspang.com&quot;<br>                &#125;<br>            &#125;,<br>            template: `&lt;h2 &gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;`<br><br>        &#125;)<br>        const vm = app.mount(&quot;#app&quot;)<br>    &lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>这就是一个最简单的Vue代码了，然后我们在<code>&lt;script&gt;</code>标签下面，写一段<code>style</code>样式代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;style&gt;<br>    .<span class="hljs-property">one</span> &#123;<span class="hljs-attr">color</span>: red;&#125;<br>    .<span class="hljs-property">two</span> &#123;<span class="hljs-attr">color</span>: green;&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>这里有两个基本的CSS样式，分别是让文字是红色和绿色。现在的需求是，要根据<code>message</code>的值显示不同的颜色，是<code>jspang.com</code>显示红色，是<code>技术胖</code>时显示绿色。类似这样的需求，就可以使用三元运算符，然后绑定class的形式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;h2 </span><br><span class="hljs-string">                :class=&quot;message==&#x27;jspang.com&#x27;?&#x27;one&#x27;:&#x27;two&#x27;&quot; </span><br><span class="hljs-string">                @click=&quot;handleItemClick&quot; &gt;</span><br><span class="hljs-string">                &#123;&#123;message&#125;&#125;</span><br><span class="hljs-string">        &lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候文字变化，对应的css样式也会变化。可以打开浏览器，看一下效果。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc346">v-if判断</a></p>
<p>三元运算符的限制还是比较明显的，就是只能判断两个值，如果这时候我们再加入一个值，就是既不是<code>jspang.com</code>,也不是<code>技术胖</code>的时候，我们显示橙色。这时候三元运算符就满足不了需求了。vue给我们准备了v-if判断。</p>
<p>我们先加入一个CSS样式<code>three</code>:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;style&gt;<br>    .<span class="hljs-property">one</span> &#123;<span class="hljs-attr">color</span>: red;&#125;<br>    .<span class="hljs-property">two</span> &#123;<span class="hljs-attr">color</span>: green;&#125;<br>    .<span class="hljs-property">three</span>&#123;<span class="hljs-attr">color</span>:orange;&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>然后可以使用<code>v-if</code>来进行编写模板。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;jspang.com&#x27;&quot; class=&quot;one&quot; &gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;技术胖&#x27;&quot; class=&quot;two&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;bilibili&#x27;&quot;  class=&quot;three&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>当然，你也可以使用<code>v-else</code>，比如下面把代码改为这个样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-if=&quot;message==&#x27;jspang.com&#x27;&quot; class=&quot;one&quot; &gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">&lt;h2 @click=&quot;handleItemClick&quot; v-else  class=&quot;three&quot;&gt; &#123;&#123;message&#125;&#125; &lt;/h2&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p><code>v-if</code> 在实际的工作中使用的也是非常多的，所以建议你多写两边，加深一下印象。这篇文章完成后，我们关于Vue模板方面的语法就基本结束了。</p>
<h3 id="12-计算属性-computed"><a href="#12-计算属性-computed" class="headerlink" title="12.计算属性-computed"></a>12.计算属性-computed</h3><p>这篇文章来学习一下Vue3中的计算属性。计算属性的特性是：当计算属性依赖的内容发生变更时，才会重新执行计算。我相信这时候你还不能很好的理解这句话的意思，所以需要通过实际的代码来进行演示。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc348">编写基本页面和准备变量</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo12-Vue中的计算属性&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br><br>    const app=Vue.createApp(&#123; <br>        data()&#123;<br>            return&#123;<br>                message:&#x27;jspang.com&#x27; , <br>            &#125;<br>        &#125;,<br>        methods:&#123;<br>            handleItemClick()&#123;<br>               this.message = this.message==&#x27;jspang.com&#x27;?&#x27;技术胖&#x27;:&#x27;jspang.com&#x27;<br>            &#125;<br>        &#125;,<br>        template:`<br>            &lt;h2&gt; &#123;&#123;message&#125;&#125;&lt;/h2&gt;<br>        `<br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>有了基本的Vue基本结构后，我们先在Data中生命两个变量，单价(price)和数量（count）。单价设置为10，数量设置为2个。data中的代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;jspang.com&#x27;</span> , <br>        <span class="hljs-attr">price</span>:<span class="hljs-number">10</span>,<br>        <span class="hljs-attr">count</span>:<span class="hljs-number">2</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后我们在模板<code>template</code>中打印出两个变量的综合<code>price * count</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">` &lt;h2&gt; &#123;&#123;price * count&#125;&#125;&lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>如果 一切正常的话，这时候打开浏览器预览，你应该可以看到页面上显示的是<code>20</code>。</p>
<p>这种方法当然可以，但是显得不够优雅，也没有语义化。如果你想进行语义化，你可能想到的第一个办法就是写一个<code>getTotal</code>的方法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-title function_">getTotal</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * (<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++);<br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">` &lt;h2&gt; &#123;&#123;getTotal()&#125;&#125;&lt;/h2&gt;`</span><br></code></pre></td></tr></table></figure>
<p>这时候你再次查看浏览器，依然可以得到同样的结果。也许你还看不出来什么问题，但此时他确实存在一些问题，问题就是只要页面中有一个值重新渲染了，他都会重新执行。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc349">methods方法无法满足的需求</a></p>
<p>如何看出这个问题？我们可以稍微修改一下代码，让每次得到的值都不同。这时候可以使用获得时间戳的方法，来获得当前的时间戳。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">getTotal</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>我们同时在模板中，打印出<code>message</code>的值，代码如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h2&gt; &#123;&#123;getTotal()&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候打开浏览器的控制台<code>console</code>，然后在里边通过手都的方式修改<code>message</code>的值<code>vm.message=&#39;1111&#39;</code>，比如修改为<code>技术胖</code>。这时候问题产生了，你会发现<code>getTotal( )</code>方法被重新执行了。这就是这个问题的所在，这个问题其实可以用今天的主角<code>coumputed</code>计算属性来解决。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc350">编写计算属性</a></p>
<p>还是获取当前的时间戳，但是写在了计算属性中。计算属性的关键字是<code>computed</code>,然后里边可以写计算用的方法，这里我起名叫做<code>total</code>，当然你可以起任何的名字。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后我们把上面模板中的方法<code>getTotal( )</code>换成计算属性<code>total</code>。模板的代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h2&gt; &#123;&#123;total&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中，用手动的方法，修改<code>message</code>的值，<code>total</code>的值就不会进行改变了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">vm.<span class="hljs-property">message</span>=<span class="hljs-string">&#x27;1111&#x27;</span><br></code></pre></td></tr></table></figure>
<p>通过这个例子，你会对普通方法和计算属性的区别有所了解。这时候我们作一下总结：</p>
<ol>
<li>方法methods：只要有任何参数发生改变进行页面重新渲染，就会重新执行方法</li>
<li>计算属性computed: 当计算属性依赖的内容发生变更时，才会重新执行计算</li>
</ol>
<p>那我们再来看计算属性改变的例子。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc351">计算属性-computed实例</a></p>
<p>我们还是用<code>单价X数量=总和</code>这个小例子，来说明具体计算属性的使用方法。修改当前代码，把计算属性中<code>total( )</code>方法内容修改。不同的是我们这次加入一个按钮，每点击一下按钮，就会让数量<code>count</code>加1。</p>
<p>我们先来修改计算属性中的内容。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中写一个按钮，每次点击按钮<code>count</code>数量进行增加。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCount</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>    &#125;<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">` </span><br><span class="hljs-string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;h2&gt; &#123;&#123;total&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;addCount&quot;&gt;再买一个&lt;/button&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候我们再到浏览器中查看效果，当点击按钮的时候，计算属性会帮助我们完成模板的自动更新。</p>
<p>好了，我们总结一下，这节我们主要学习了Vue中的计算属性，重点在于理解计算属性和普通methods方法的区别，当你明白了两者的区别后，在工作中就可以清楚的知道什么时候该用计算属性，什么时候该用vue的方法了。</p>
<h3 id="13-Vue中的侦听器-监听器-watch"><a href="#13-Vue中的侦听器-监听器-watch" class="headerlink" title="13.Vue中的侦听器/监听器-watch"></a>13.Vue中的侦听器/监听器-watch</h3><p>这篇文章学习Vue中的侦听器（也有叫监听器），它可以侦听data中值的变化，做出相应的操作。这看起来和上节讲的计算属性（computed）很像，但如果你足够细心，也可以发现一些区别，下面我们就开始学习吧。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc353">侦听器的基本写法</a></p>
<p>watch侦听器的作用就是侦听一个data中的值的变化，变化后可以写一个方法，让其进行一些操作（业务逻辑的编写）。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;count changed&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>上面代码的意思是，写一个侦听器来侦听<code>count</code>的数据变化，当<code>count</code>变化之后立即在控制台打印出<code>count changed</code>。</p>
<p>侦听器中的方法还可以接收两个参数，一个是现在的值（current），一个是变化之前的值（prev），是系统内置的，顺序固定，变量名可任意取。我们分别接收这两个值，并打印在控制台，看一下效果。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params">current,prev</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;watch changed&#x27;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;现在的值：&#x27;</span>,current)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;变化前的值：&#x27;</span>,prev)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在浏览器中可以看到打印的效果。先打印出了3，然后又打印出了2。需要注意的是两个参数的先后顺序，如果不小心，是很容易记反的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc354">侦听器和计算属性的区别</a></p>
<p>这时候问题来了，计算属性也是可以根据变化执行一些操作的，那侦听器watch和计算属性computed的区别是什么？</p>
<p>先给出结论，计算属性computed必须要返回一个值，而且在页面渲染的同时就会执行里边的业务逻辑，也就是会先执行一遍你写的业务逻辑，而<code>watch</code>只有发生变化时才会执行，也就是说值没有变化，它是不执行里边业务逻辑的。为了验证结果，先注释掉侦听器watch相关的内容，在计算属性<code>total</code>中写这样的代码。</p>
<p>代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">computed</span>:&#123;<br>    <span class="hljs-title function_">total</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;....count changed&#x27;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc355">计算属性（computed）更加简洁</a></p>
<p>再来思考一个问题，用watch侦听器，可以写出类似计算属性的代码吗？答案是肯定的。现在我们就就写一个类似计算属性效果。</p>
<p>先在data中声明一个新的变量，叫做<code>newTotal</code>，给出一个<code>20</code>的值。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//....</span><br>        <span class="hljs-attr">newTotal</span>:<span class="hljs-number">20</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>然后修改watch中代码，写一个乘法表达式算出<code>总和</code>，赋值给<code>this.newTotal</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">watch</span>:&#123;<br>    <span class="hljs-title function_">count</span>(<span class="hljs-params">current,prev</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">newTotal</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * current<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>最后把模板中的渲染值，改为<code>newTotal</code>就可以了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">    &lt;h2&gt;总和：&#123;&#123;newTotal&#125;&#125;&lt;/h2&gt;</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>写完这些，你在浏览器中看到的效果和计算是属性是一样的。但是从代码简洁性上，显然侦听器的写法是麻烦并冗余，所以建议优先使用计算属性来完成同样的操作。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc356">method、watch和computed三者使用优先级</a></p>
<p>现在总结一下method、watch和computed三者如果都能实现相同的功能，它们之间的取舍和使用优先级。</p>
<ul>
<li><code>computed</code> 和 <code>method</code>都能实现的功能，建议使用computed,因为有缓存，不用渲染页面就刷新。</li>
<li><code>computed</code> 和 <code>watch</code> 都能实现的功能，建议使用 computed，因为更加简洁。</li>
</ul>
<h3 id="14-模板样式绑定详细讲解"><a href="#14-模板样式绑定详细讲解" class="headerlink" title="14.模板样式绑定详细讲解"></a>14.模板样式绑定详细讲解</h3><p>这篇文章我们主要学习Vue中的一些关于样式(style)的内容。样式绑定的内容还是不少的，所以分两篇文章：初识和进阶来讲述。首先我们要编写一个基本的最简单的页面。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc358">准备干净的页面</a></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo14&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br><br>        template:`<br>            &lt;h2&gt;JSPang.com&lt;/h2&gt;  <br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc359">写两个最基本的样式 并引入到模板</a></p>
<p>在文件的下方，我们写三个最进本的样式<code>red</code>、<code>green</code>和<code>background</code>，代码分别如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;style&gt;<br>    .<span class="hljs-property">red</span>&#123;<span class="hljs-attr">color</span>:red;&#125;<br>    .<span class="hljs-property">green</span>&#123;<span class="hljs-attr">color</span>:green;&#125;<br>    .<span class="hljs-property">background</span>&#123; background-<span class="hljs-attr">color</span>: orange;&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>引用样式,在Vue的模板中引用和普通的html的方法一样。直接写class加上类名就可以了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 class=&quot;red&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候你可以考虑一个问题，如果你希望程序足够灵活，样式也是可以控制的，这样引入样式的方法就不行了。你需要先在Data中声明变量，然后在模板<code>template</code>中进行绑定。</p>
<p>声明data变量:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">classString</span>:<span class="hljs-string">&#x27;red&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>有了这个变量（或者叫做数据项）以后，就可以用bind的形式进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 v-<span class="hljs-attr">bind</span>:<span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;red&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/h2&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;red&quot;</span>&gt;</span>JSPang.com<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<p>绑定同样使用<code>v-bind</code>，你也可以使用简写<code>:</code>。上面的两种形式都可以进行绑定。这时候你可以到浏览器中查看一下效果，如果一切正常，此时应该还是红色的。</p>
<p>此时你可以利用浏览器的控制台，输入对应的代码，直接控制样式了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">vm.<span class="hljs-property">$data</span>.<span class="hljs-property">classString</span>=<span class="hljs-string">&#x27;green&#x27;</span><br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc360">Vue中用对象和数组的形式控制样式</a></p>
<p><strong>对象的绑定方式</strong></p>
<p>比如现在用对象的形式进行绑定样式，好处是一次可以绑定多个样式。比如这样的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">classString</span>:<span class="hljs-string">&#x27;red&#x27;</span>,<br>        <span class="hljs-attr">classObject</span>:&#123;<span class="hljs-attr">red</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">background</span>:<span class="hljs-literal">true</span>&#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>值为<code>true</code>代表绑定，值为<code>false</code>代表不绑定这个样式。</p>
<p>然后进行绑定</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classObject&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候再到浏览器中查看效果，就会有两个样式被绑定了<code>red</code>和<code>background</code>。如果你这时候把red改为false，那效果就是只有背景颜色，没有字体颜色了。</p>
<p><strong>数组的绑定方式</strong></p>
<p>再来看一下数组的绑定方式，数组也是可以绑定多个样式的。</p>
<p>代码如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">classString</span>:<span class="hljs-string">&#x27;red&#x27;</span>,<br>        <span class="hljs-attr">classObject</span>:&#123;<span class="hljs-attr">red</span>:<span class="hljs-literal">true</span>,<span class="hljs-attr">background</span>:<span class="hljs-literal">true</span>&#125;,<br>        <span class="hljs-attr">classArray</span>:[<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;background&#x27;</span>],<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候再修改一下绑定值,页面样式就变成了绿字，橙色的底啦。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classArray&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>你也可以在这种数组的数据项中，再嵌套对象的形式。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">classArray</span>:[<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;background&#x27;</span>,&#123;<span class="hljs-attr">red</span>:<span class="hljs-literal">true</span>&#125;],<br></code></pre></td></tr></table></figure>
<p>如果看不到效果，可以在CSS样式中增加<code>!important</code>，把优先级提高，当然你也可以在浏览器的控制台查看。</p>
<h3 id="15-模板样式绑定-2进阶"><a href="#15-模板样式绑定-2进阶" class="headerlink" title="15.模板样式绑定-2进阶"></a>15.模板样式绑定-2进阶</h3><p>这篇文章继续学习Vue的模板样式绑定。上篇文章你已经对Vue中的样式绑定有一个基本了解。我们预习一下，上节课我们学了三种绑定样式的方法：</p>
<ul>
<li>通过普通字符串进行绑定；</li>
<li>通过对象的方式进行绑定；</li>
<li>通过数组的方式进行绑定。</li>
</ul>
<p>这篇主要学习一下Vue中子组件样式的绑定和行内样式如何编写。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc362">子组件的样式绑定</a></p>
<p>先来看一下子组件如何绑定样式。编写一个子组件<code>SonCom</code>，组件中就是展示一个简单的内容。</p>
<p>代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>有了子组件后，就可以在父组件的模板中进行使用了，使用就是直接写一个类似html的标签进去就可以。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classArray&quot;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;sonCom /&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p><strong>如何区分父子组件</strong></p>
<p>在<code>vue.createApp( )</code>方法中用对象形式<code>&#123; &#125;</code>配置的一般叫做父组件，而下面使用的其他组件，叫做子组件。<strong>你也可以这样理解，主动调用的是父组件，被调用的是子组件</strong>。</p>
<p>最简单的为子组件添加样式的方法，就是自己给子组件加上<code>class</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div class=&quot;green&quot;&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>这时候子组件的字体颜色就变成了绿色。你还可以把class写在调用子组件的地方（也就是写在父组件里），例如下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :class=&quot;classArray&quot;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;sonCom class=&#x27;green&#x27; /&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>先去掉子组件里的class，在调用地方增加class样式。这时候效果也是一样的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc363">子组件使用样式的小坑</a></p>
<p>这时候我们修改一下子组件，再写一个<code>&lt;div&gt;</code>进去，里边写上<code>技术胖</code>的字样。这时候再来看结果。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;技术胖&lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>你会发现两个<code>&lt;div&gt;</code>的样式都不起作用了。那我们如何让它变成绿色那，其实只有再两个并列的<code>&lt;div&gt;</code>外层，加上一个包括性的标签就可以了。也就是说让子组件的最外层只有一个根元素。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;</span><br><span class="hljs-string">            &lt;div&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">            &lt;div&gt;技术胖&lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p>这样就又变成了绿色字体。还有一种用到动态绑定的方法，直接绑定属性中的class。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;sonCom&#x27;</span>,&#123;<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div :class=&quot;$attrs.class&quot;&gt;SonCom&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;技术胖&lt;/div&gt; </span><br><span class="hljs-string">    `</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc364">行内样式的编写</a></p>
<p>什么是行内样式?就是自己在模板的DOM元素上写CSS样式，比如下面的这样。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 style=<span class="hljs-string">&quot;color:orange;&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/h2&gt;<br></code></pre></td></tr></table></figure>
<p>除了这种写法以外，Vue中也为我们扩展了一些内容，让行内样式的写法更直观和令狐。你可以直接在data中编写样式，比如在Data中这样写。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">styleString</span>:<span class="hljs-string">&#x27;color:orange;&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后用绑定行内样式的形式，在模板中进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 :style=&quot;styleString&quot;&gt;JSPang.com&lt;/h2&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p><strong>你也可以用对象的形式在data中编写CSS样式。</strong>比如写成下面的代码，然后再进行绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>       <span class="hljs-comment">//.....</span><br>        <span class="hljs-attr">styleString</span>:<span class="hljs-string">&#x27;color:orange;&#x27;</span>,<br>        <span class="hljs-attr">styleObject</span>:&#123;<br>            <span class="hljs-attr">color</span>:<span class="hljs-string">&#x27;red&#x27;</span>,<br>            <span class="hljs-attr">background</span>:<span class="hljs-string">&#x27;yellow&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在写行内样式的使用，个人觉的对象的写法更加直观和简洁，所以建议小伙伴可以采用这种对象的形式来进行编写。</p>
<h3 id="16-v-show和v-if的差别"><a href="#16-v-show和v-if的差别" class="headerlink" title="16.v-show和v-if的差别"></a>16.v-show和v-if的差别</h3><p>这篇学一个和<code>v-if</code>很类似的语法<code>v-show</code>，以及它和<code>v-if</code>有什么区别，算是一个补充课程。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc366">v-show的基本语法</a></p>
<p>代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo16&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;<br><br>        &#125;<br>    &#125;,<br>    template:`<br>        &lt;h2&gt;JSPang.com&lt;/h2&gt;  <br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>准备好最基本的结构后，在数据项中声明一个<code>show</code>的变量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">show</span>:<span class="hljs-literal">true</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>有了变量后，可以在模板中使用<code>v-show</code>来控制CSS样式，从而控制DOM元素的展示与否。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;h2 v-show=&quot;show&quot;&gt;JSPang.com&lt;/h2&gt;  </span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候打开浏览器进行预览，是可以看到<code>JSPang.com</code>这个h2的DOM元素的。如果把数据项<code>show</code>改成<code>false</code>就看不到了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc367">v-if和v-show的区别</a></p>
<p>v-show看起来和v-if语法的功能基本一样，但其实他们无论是灵活性还是功能都是有区别的。</p>
<p><code>v-if</code><strong>更加灵活</strong>，可以增加多个判断，比如<code>v-else-iif</code>和<code>else</code>，而<code>v-show</code><strong>不具备这样的灵活性</strong>。</p>
<p>v-show控制DOM元素显示，其实控制的是css样式，也就是<code>display:none</code>。现在你可以把<code>data</code>的值修改为false，然后刷新浏览器，打开浏览器调试器的<code>Elements</code>选项卡，就可以清楚的看到，这时候<code>&lt;h2&gt;</code>标签上的style样式就是<code>display:none</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 style=<span class="hljs-string">&quot;display: none;&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/h2&gt;<br></code></pre></td></tr></table></figure>
<p>现在回到vscode中的代码，在模板中再复制一行，这时候用<code>v-if</code>进行判断。再次在浏览器中预览，你会发现整个DOM元素都不见了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;h2 v-<span class="hljs-keyword">if</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/h2&gt;<br></code></pre></td></tr></table></figure>
<p>现在你应该明白了<code>v-if</code> 和<code>v-show</code>的区别,那如何使用他们。这个就要看具体的需求了，如果显示和隐藏的状态切换比较频繁，并且没有什么多余复杂的业务逻辑，建议使用<code>v-show</code>,因为他不会一直渲染你的页面DOM元素，这或多或少对性能和稳定性有点提升。反之可以使用<code>v-if</code>。</p>
<h3 id="17-v-for循环详细讲解-1"><a href="#17-v-for循环详细讲解-1" class="headerlink" title="17.v-for循环详细讲解-1"></a>17.v-for循环详细讲解-1</h3><p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc369">v-for循环数组的方法</a></p>
<p>v-for最常用的功能就是循环数组，先来看一个数组循环的例子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>        data()&#123;<br>            return&#123;   <br>            &#125;<br>        &#125;,<br>        methods:&#123;<br>        &#125;,<br>        template:``<br><br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br>&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>也就是最基本的一个Vue文件结构。然后在<code>data</code>中声明一个数组，数组叫做<code>listArray</code>,代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;  <br>        <span class="hljs-attr">listArray</span>:[<span class="hljs-string">&#x27;谢大脚&#x27;</span>,<span class="hljs-string">&#x27;刘英&#x27;</span>,<span class="hljs-string">&#x27;晓红&#x27;</span>]<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>data中数组写完后，现在要做的是在<code>template</code>中循环出这些数组,这里当然使用<code>v-for</code>，代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;item in listArray&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>上面代码写完后在浏览器中预览效果，可以看到，已经如我们所愿，在页面渲染出了列表。在<code>v-for</code>渲染数组时中还可以加入索引<code>index</code>,也就是 数组的下标。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li v-for=&quot;(item,index)  in listArray&quot;&gt;[&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这些就是最基本v-for循环数组的知识。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc370">关于循环时的key值</a></p>
<p>为了提高循环时性能，在数组其中一项变化后，整个数组不进行全部重新渲染，Vue提供了绑定key值的使用方法，目的就是增加渲染性能，避免重复渲染。</p>
<p>为了理解这个概念，先编写出一个按钮，然后每次点击按钮后向数组中增加<code>push</code>一个新值。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">handleChangeBtnClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listArray</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;JSPang.com&#x27;</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    //......</span><br><span class="hljs-string">    &lt;button @click=&quot;handleChangeBtnClick&quot;&gt;点我改变&lt;/button&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>写完后，你到页面中预览，当你点击按钮时，表面上你看到增加了一个新的内容，实际整个列表都被重新渲染了。在实际工作中，这样的代码是不被允许的，它会降低页面的性能，在数据量变多的时候，用户用起来会变的卡顿。</p>
<p>这时，你可以加唯一性<code>key</code>值，增加后vue就会辨认出哪些内容被渲染后并没有变化，而只渲染新变化的内容。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index)  in listArray&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>官方不建议使用索引<code>index</code>为key值，因为若存在多个数组，会出现重复，但此时又为了保持唯一性，所以这里使用了<code>index+item</code>进行绑定key值</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc371">v-for循环对象的方法</a></p>
<p>v-for不仅可以循环数组，还可以循环对象，使用方法基本和数组一样（但其中参数值是不一样的）。这里先在data中建立一个对象。代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;  <br>        <span class="hljs-comment">//......</span><br>        <span class="hljs-attr">listObject</span>:&#123;<br>            <span class="hljs-title class_">GirlOne</span>:<span class="hljs-string">&#x27;谢大脚&#x27;</span>,<br>            <span class="hljs-title class_">GirlTwo</span>:<span class="hljs-string">&#x27;刘英&#x27;</span>,<br>            <span class="hljs-title class_">GirlThree</span>:<span class="hljs-string">&#x27;晓红&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在模板中进行循环的时候，为了更好的语义化，我们把参数改为了<code>value</code>,<code>key</code>和<code>index</code>。然后进行循环。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(value,key,index)  in listObject&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;key&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>写完后可以到浏览器中预览，也是可以得到你想要的结果的。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">[<span class="hljs-number">0</span>]谢大脚-<span class="hljs-title class_">GirlOne</span><br>[<span class="hljs-number">1</span>]刘英-<span class="hljs-title class_">GirlTwo</span><br>[<span class="hljs-number">2</span>]晓红-<span class="hljs-title class_">GirlThree</span><br></code></pre></td></tr></table></figure>
<h3 id="18-v-for循环详细讲解-2"><a href="#18-v-for循环详细讲解-2" class="headerlink" title="18.v-for循环详细讲解-2"></a>18.v-for循环详细讲解-2</h3><p>上篇文章已经对<code>v-for</code>的使用有了基本的了解，这篇文章主要讲v-for中的三个注意点。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc373">v-for循环数字</a></p>
<p><code>v-for</code>是可以用来循环数字的，比如你要循环1-99的数字，可以直接写成下面的样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;span v-<span class="hljs-keyword">for</span>=<span class="hljs-string">&quot;count in 99&quot;</span>&gt;&#123;&#123;count&#125;&#125;,&lt;/span&gt;<br></code></pre></td></tr></table></figure>
<p>这样就可以快速的循环出1-99的值在页面上。可以在浏览器中看一下这个效果。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc374">v-for中如何使用判断</a></p>
<p>你看一下，上篇文章写的关于数组循环的小例子，现在的新需求有些变化，由于<code>谢大脚</code>的年龄比较大了，我们想刨除出去，只显示<code>刘英</code>和<code>晓红</code>。这时候你很可能把代码写成这个样子。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>在浏览器中进行预览，你会发现<code>谢大脚</code>的循环项，并没有消失。这是为什么那？<strong>因为在同一个标签里，v-for循环的优先级要高于<code>v-if</code>判断的优先级，所以判断失效。</strong></p>
<p>正确的写法应该是在<code>&lt;li&gt;</code>外层独立出一个标签，在<code>&lt;li&gt;</code>上做循环。比如写成下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中预览，<code>谢大脚</code>如愿以偿的消失了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc375">template标签的使用</a></p>
<p>上面的结果完美吗？当你打开浏览器的控制台，看Elements选项卡时，你会发现DOM结构是有问题的，明明循环出两项，却有3个<code>&lt;div&gt;</code>，而且这种外层套用<code>&lt;div&gt;</code>里边使用<code>&lt;li&gt;</code>的形式，不符合HTML语法的基本结构。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>为了解决这个问题，Vue给我们提供了<code>&lt;template&gt;</code>模版标签，也就是一个空的占位符，目的就是解决模板中为完成业务逻辑，而使用的无用html标签的现象。</p>
<p>现在可以把上面的代码写成这样。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in listArray&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index+item&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item != &#x27;谢大脚&#x27;&quot;</span>&gt;</span></span><br><span class="language-xml">        [&#123;&#123;index&#125;&#125;]&#123;&#123;item&#125;&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<p>这时候再到浏览器看一下结果，这样就符合我们的期待了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;ul&gt;<br>    &lt;!--v-<span class="hljs-keyword">if</span>--&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br></code></pre></td></tr></table></figure>
<h3 id="19-绑定事件详讲-方法和参数"><a href="#19-绑定事件详讲-方法和参数" class="headerlink" title="19.绑定事件详讲-方法和参数"></a>19.绑定事件详讲-方法和参数</h3><p>可能你会觉的Vue中的绑定事件非常简单，和原生JavaScript对比，确实是简化了很多，但里边还是有很多你需要注意的点的，特别是事件修饰符这部分的内容还是相当多的。我们将用两节文章的篇幅，讲解Vue3.x中的绑定事件和它相关的种种。第一节先来介绍一下绑定事件的基本用法。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc377">按钮的基本绑定事件</a></p>
<p>现在的需求是这样的，只要顾客点击按钮，我们就会增加菜单数量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo19&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;<br>            count:0<br>        &#125;<br>    &#125;,<br>    methods:&#123;&#125;,<br>    template:`<br>      &lt;div&gt;目前已点菜的数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;<br>      &lt;button&gt;增加一道菜&lt;/button&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>可以先简单的看一下这段代码，在模板(template)里边有一个<code>&lt;div&gt;</code>显示了目前的数量，数量是在<code>data</code>中定义的变量<code>count</code>。然后有一个按钮<code>&lt;button&gt;</code>。现在要做的就是每点击一下按钮，让数量加1。到这里小伙伴可以不先向下看，自己先写一下。</p>
<p>先在<code>methods</code>里写一个方法，我这里给方法起名字叫<code>addCountClick( )</code>,代码如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在button上绑定这个响应事件.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;addCountClick&quot;&gt;增加&lt;/button&gt;</span><br><span class="hljs-string">    `</span> <br>&#125;)<br></code></pre></td></tr></table></figure>
<p>这时候你可以打开浏览器预览一下效果，当你点击按钮时，””的数量就会不断增加。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc378">直接用表达式实现</a></p>
<p>你还可以使用更简单的方法，不在<code>methods</code>中写任何的响应方法，而是使用<code>表达式</code>来编写。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click=<span class="hljs-string">&quot;count++&quot;</span>&gt;增加一位&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p>这看起来更见的简单了，保持代码的精简，是一个程序员应有的追求，但这样灵活性也会比较差。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc379">事件中的event对象</a></p>
<p>在编写响应事件事，是可以接受一个event参数的，这个参数就是关于响应事件的一些内容。我们直接打印出event，你会发现内容比较多，其实这些参数还是值得一看的，在工作中有时真的会用到。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">event</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event)<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候你可以打开浏览器，然后打开<code>控制台</code>查看一下效果。可以看到event的内容非常多，想直观看到是那个DOM元素触发事件，可以使用<code>target</code>属性。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc380">单参数/多参数的传递</a></p>
<p>先来看传入单独的参数，比如现在每次点击的增量不再是1，而是2。就可以这样来编写。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">num</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>+=num<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        //.....</span><br><span class="hljs-string">    &lt;button @click=&quot;addCountClick(2)&quot;&gt;增加一&lt;/button&gt;</span><br><span class="hljs-string">    `</span> <br>&#125;)<br></code></pre></td></tr></table></figure>
<p><strong>有参数的情况下使用event</strong></p>
<p>这时候你还想使用<code>event</code>参数，那需要如何编写那，方法是参数增加<code>$event</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params">num,event</span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>+=num;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">target</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">    &lt;button @click=&quot;addCountClick(2,$event)&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    `</span> <br>&#125;)<br></code></pre></td></tr></table></figure>
<p>总结一下，在有多个参数的情况下，要继续使用event，需要在调用的地方使用<code>$event</code>，进行传递参数，然后在方法上正常接收就可以了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc381">一个按钮调用两个方法</a></p>
<p>在有些复杂的需求中，是需要点击一个按钮，同时执行两个方法的。</p>
<p>先写两个方法<code>handleBtnClick1</code>和<code>handleBtnClick2</code>,每个方法里的业务逻辑，就是弹出一个<code>alert</code>。代码如下：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-comment">//...</span><br>    <span class="hljs-title function_">handleBtnClick1</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>)<br>    &#125;,<br>    <span class="hljs-title function_">handleBtnClick2</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">2</span>)<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>在模板的按钮中可以这样使用这两个方法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click=<span class="hljs-string">&quot;handleBtnClick1(),handleBtnClick2()&quot;</span>&gt;增加&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p>这里需要注意的是:调用方法的时候，要加上<code>( )</code>如果不加，调用是无效的。</p>
<p>总结一下：如果想在模板中一次触发两个事件方法，需要 用<code>,</code>逗号，把事件隔开，然后每个事件后边必须加上<code>( )</code>才能起作用。</p>
<p>这节就先到这里了，下节继续讲解绑定事件的修饰符。</p>
<h3 id="20-绑定事件详讲-事件修饰符"><a href="#20-绑定事件详讲-事件修饰符" class="headerlink" title="20.绑定事件详讲-事件修饰符"></a>20.绑定事件详讲-事件修饰符</h3><p>绑定事件中的修饰符有很多种，这些修饰符各有各的用处。本节课将讲解Vue中的事件修饰符，分别是：<code>stop</code>,<code>prevent</code>,<code>capture</code>,<code>self</code>,<code>once</code>和<code>passive</code>。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc383">通过修饰符解决冒泡事件</a></p>
<p>在JavaScript中冒泡事件是最长处理的事件，先写一段代码，手动创造一个冒泡事件。</p>
<ul>
<li>修改模板<code>template</code>部分，在最外层增加一个<code>&lt;div&gt;</code>并添加click事件。</li>
<li>修改方法<code>methods</code>部分，删除无用方法，保留两个方法，增加alter提示。</li>
<li>形成冒泡效果，就是有嵌套的DOM元素时，两个都有绑定事件，JS会自动向上传递事件。</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo19&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;<br>            count:0<br>        &#125;<br>    &#125;,<br>    methods:&#123;<br>        addCountClick()&#123;<br>            this.count++<br>        &#125;,<br>        handleBtnClick1()&#123;<br>            alert(1)<br>        &#125;,<br>    &#125;,<br>    template:`<br>        &lt;div @click=&quot;handleBtnClick1&quot;&gt;<br>            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;<br>            &lt;button @click=&quot; addCountClick()&quot;&gt;增加&lt;/button&gt;<br>       &lt;/div&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><strong>stop修饰符</strong></p>
<p>在Vue中要停止冒泡是非常简单的，只要加一个事件修饰符<code>stop</code>就可以了，相当于点这个按钮的时候不会触发外层效果，只有点除按钮外的区域时才出发。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;button @click.<span class="hljs-property">stop</span>=<span class="hljs-string">&quot; addCountClick()&quot;</span>&gt;增加&lt;/button&gt;<br></code></pre></td></tr></table></figure>
<p><strong>self修饰符</strong></p>
<p>除了使用<code>.stop</code>修饰符，还有一种修饰符<code>self</code>，意思是只有点击自己的时候才会被执行。 只不过加的位置要在外层DOM元素的事件上。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">            &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">       &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br></code></pre></td></tr></table></figure>
<p>这时候你会发现无论点击哪里，都没办法触发<code>hanldeBtnClick1</code>方法了，这是因为目前最外层div下都是独立的DOM元素，就是都有成对标签出现，都不属于最外自己，都是他们的子元素。</p>
<p>可以编写一段专属最外层DIV的文字。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">            我是最外层的DIV文字</span><br><span class="hljs-string">            &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">            &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">       &lt;/div&gt;</span><br><span class="hljs-string">        `</span><br></code></pre></td></tr></table></figure>
<p>这样当点击<code>我是最外层的DIV文字</code>时，就会触犯<code>handleBtnClick1</code>方法了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc384">其它常用修饰符</a></p>
<p><strong>prevent修饰符：</strong>阻止默认行为的修饰符，这个以前讲过，例如阻止<code>form</code>表单的默认提交行为。（不在重复介绍，如果你还没有掌握，可以复习以前课程）</p>
<p><strong>capture修饰符：</strong>改成捕获模式，默认的模式都是冒泡模式，也就是从下到上，从内到外，但是你用capture后，是从上到下，从外到内的。</p>
<p>修改一下模板部分的代码，不再使用修饰符，而是让事件存在冒泡。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">addCountClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">0</span>)  <span class="hljs-comment">//修改了此处</span><br>    &#125;,<br>    <span class="hljs-title function_">handleBtnClick1</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-number">1</span>)<br>    &#125;,<br>&#125;,<br><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div @click.capture=&quot;handleBtnClick1&quot;&gt;  //修改了此处</span><br><span class="hljs-string">        我是最外层的DIV文字</span><br><span class="hljs-string">        &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">        &lt;button @click=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p><strong>once修饰符：</strong>事件只执行一次（视频中作演示）。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div @click.self=&quot;handleBtnClick1&quot;&gt;</span><br><span class="hljs-string">        我是最外层的DIV文字</span><br><span class="hljs-string">        &lt;div&gt;目前已点数量&#123;&#123;count&#125;&#125;.&lt;/div&gt;</span><br><span class="hljs-string">        &lt;button @click.once=&quot; addCountClick()&quot;&gt;增加一位&lt;/button&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>此时再点击按钮，事件只执行一次。这时候我们修改了两个地方，最外层的事件加了<code>self</code>修饰符，button上加了<code>once</code>修饰符。</p>
<p><strong>passive修饰符</strong>：解决滚动时性能的修饰符，不太好演示，等以后用到我们会再详细讲解。</p>
<p>这节就先到这里了，我们学习了6种修饰符：<code>stop</code>,<code>prevent</code>,<code>capture</code>,<code>self</code>,<code>once</code>,<code>passive</code>。下节课我们讲解按键修饰符。</p>
<h3 id="21-绑定事件详讲-按键、鼠标饰修符"><a href="#21-绑定事件详讲-按键、鼠标饰修符" class="headerlink" title="21.绑定事件详讲-按键、鼠标饰修符"></a>21.绑定事件详讲-按键、鼠标饰修符</h3><p>这节课的内容会讲一下事件绑定中的<code>按键修饰符</code>和<code>鼠标修饰符</code>。他们对应的是在使用特点的某个按键时才会用到。这节课的内容在工作中也是比较常用的，比如按下回车键时触发表达提交，按下鼠标右键时弹出选项菜单。都是工作中用得到的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc386">构建基础页面</a></p>
<p>可以看到，这就是一个最简单的页面，只不过是在模板<code>template</code>中加入了一个<code>&lt;input /&gt;</code>标签。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo21&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;&#125;<br>    &#125;,<br>    methods:&#123;<br>    &#125;,<br>    template:`<br>        &lt;div&quot;&gt;<br>            &lt;input /&gt;<br>        &lt;/div&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>然后在<code>methods</code>部分加入一个方法<code>handleKeyDwon( )</code>，具体内容只是在控制台打印出来<code>keydown</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>    <span class="hljs-title function_">handleKeyDown</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;keydow....&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中的<code>&lt;input /&gt;</code>中绑定键盘按下时响应<code>keydown</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&quot;&gt;</span><br><span class="hljs-string">        &lt;input @keydown=&quot;handleKeyDown&quot;/&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc387">单个按键修饰符</a></p>
<p>单个按键修饰符：顾名思义，就是指定键盘上某个特殊的按键时才会响应事件方法。</p>
<p>如果现在的需求是，上面的代码只有在按下回车时，才在控制台进行打印，这时候就需要按键修饰符了。我们学的第一个按键修饰符<code>enter</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&quot;&gt;</span><br><span class="hljs-string">        &lt;input @keydown.enter=&quot;handleKeyDown&quot;/&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span> <br>    &#125;)<br></code></pre></td></tr></table></figure>
<p>类似这样只响应单个按键的修饰符有很多</p>
<ul>
<li>enter回车 、tab、delete、esc、up 、down、left、right</li>
</ul>
<p>这些你可以通过上面的列子，自行测试，我这里不在赘述。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc388">鼠标修饰符</a></p>
<p>除了按键修饰符，还有鼠标修饰符，就是按下鼠标上的某个键时，才会响应。</p>
<p>最常用的就是: left、right、middle</p>
<p>现在的需求是在页面上作一行文字<code>JSPang.com</code>，然后只有用鼠标右键点击时，才会弹出<code>alert( )</code>。</p>
<p>先在<code>methods</code>里编写一个<code>handleClick</code>方法。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">methods</span>:&#123;<br>   <span class="hljs-comment">//...</span><br>    <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;click&#x27;</span>)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中使用鼠标修饰符，确定只有点击鼠标右键时才会响应。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div @click.<span class="hljs-property">right</span>=<span class="hljs-string">&quot;handleClick&quot;</span>&gt;<span class="hljs-title class_">JSPang</span>.<span class="hljs-property">com</span>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>好了这节的内容就到这里了，事件绑定我们一共讲了三节，希望小伙伴们能动手把这部分的内容联系一下，这是最常用的一些功能。</p>
<h3 id="22-表单数据的双绑定-1"><a href="#22-表单数据的双绑定-1" class="headerlink" title="22.表单数据的双绑定-1"></a>22.表单数据的双绑定-1</h3><p>我在课程刚开始的初识阶段，经常强调Vue是数据驱动的开发。其中最重要的一点应用是数据的双向绑定，从这节课开始，我们就详细讲解一下Vue3中表单和数据绑定的一些方法。学完后你可以对数据双向绑定有很好的了解。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc390">写干净的Vue3文件</a></p>
<p>这个你可以直接拷贝下面的代码，这样就可以快速写出Vue3的基本结构。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo22&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot; &gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app=Vue.createApp(&#123; <br>    data()&#123;<br>        return&#123;&#125;<br>    &#125;,<br>    methods:&#123;<br><br>    &#125;,<br>    template:`<br>        &lt;div&gt;&lt;/div&gt;<br>        ` <br>    &#125;) <br>    const vm=app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc391">input的数据双向绑定</a></p>
<p>这个可能是最简单和最常用的双向绑定方式，我们先在模板中给写一个<code>&lt;input/&gt;</code>，然后在<code>data</code>中声明一个<code>name</code>的变量。有了变量后和<code>input</code>进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;script&gt;<br>    <span class="hljs-keyword">const</span> app=<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123; <br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span><br>        &#125;<br>    &#125;,<br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div&gt;</span><br><span class="hljs-string">            &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">            &lt;input v-model=&quot;name&quot; /&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">        `</span> <br>    &#125;) <br>    <span class="hljs-keyword">const</span> vm=app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>
<p>写完这个，打开浏览器预览一下效果。可以看到，当<code>input</code>改变时，对应的变量也会变化，页面中的值也会变化。</p>
<p>那什么是双向绑定呢？</p>
<ul>
<li><p><strong>data中的变量改变时，绑定的数据会跟随变化，此为一项修改；</strong></p>
</li>
<li><p><strong>当通过页面修改数据，data中的变量也随之改变，这就是另一项修改。两个彼此依存改变，就为双向数据绑定。</strong></p>
</li>
</ul>
<p>目前这种就完成了<code>&lt;input /&gt;</code>的双向数据绑定。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc392">textarea的数据双向绑定</a></p>
<p>以前我们写<code>HTML</code>的时候，写<code>textarea</code>标签都是成对出现的，比如这样<code>&lt;textarea&gt;&lt;/textarea&gt;</code>，如果想在Vue中实现textarea的双向数据绑定，这时候只要写单标签就可以了，剩下的事情Vue底层就帮你完成了。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>:<span class="hljs-string">`</span><br><span class="hljs-string">    &lt;div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&lt;input v-model=&quot;name&quot; /&gt;&lt;/div&gt;</span><br><span class="hljs-string">        &lt;div&gt;&lt;textarea v-model=&quot;name&quot; /&gt;&lt;/div&gt;  </span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    `</span><br></code></pre></td></tr></table></figure>
<p>这样也是可以实现数据的双向绑定的。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc393">checkbox数据双向绑定</a></p>
<p><code>checkbox</code>是一个勾选框（复选框），如果只有一个选项时，我们可以给<code>&lt;checkbox /&gt;</code>一个布尔值，也就是true或者false。</p>
<p>现在data中新声明一个变量<code>checked</code>.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">checked</span>:<span class="hljs-literal">false</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后在模板中进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;&#123;&#123;checked&#125;&#125;&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;checked&quot;</span> /&gt;&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>写完后进行预览，双向绑定是完全可以实现的。<code>checkbox</code>还有一个功能就是复选，可以选择多个。</p>
<p>比如还是象牙山三女的例子，现在勾选谁，谁就可以显示在页面上。</p>
<p>这时候要先定义一个变量，这个变量是一个空数组。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">checked</span>:<span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">girls</span>:[]<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>然后增加模板中的内容如下。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;girls&#125;&#125;<br>    大脚&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;大脚&quot;</span> /&gt;<br>    刘英&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;刘英&quot;</span> /&gt;<br>    晓红&lt;input type=<span class="hljs-string">&quot;checkbox&quot;</span> v-model=<span class="hljs-string">&quot;girls&quot;</span> value=<span class="hljs-string">&quot;晓红&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候就可以实现多选的双向数据绑定了。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc394">Radio的双向数据绑定</a></p>
<p>学会了<code>checkbox</code>的双向数据绑定，<code>radio</code>单选按钮就简单了。但是需要注意的是，既然是单选，这时候data中的变量就不能是一个数字了，一般是一个字符串。比如我们这里新定义了一个<code>girl</code>的变量。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span>&#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">checked</span>:<span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">girls</span>:[],<br>        <span class="hljs-attr">girl</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>复制上面的template代码，然后进行修改，把<code>checkbox</code>换成<code>radio</code>,代码如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;girl&#125;&#125;<br>    大脚&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;大脚&quot;</span> /&gt;<br>    刘英&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;刘英&quot;</span> /&gt;<br>    晓红&lt;input type=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;girl&quot;</span> value=<span class="hljs-string">&quot;晓红&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这样就完成了单项选择的数据双向数据绑定了。</p>
<h3 id="23-表单数据的双绑定-2修饰符"><a href="#23-表单数据的双绑定-2修饰符" class="headerlink" title="23.表单数据的双绑定-2修饰符"></a>23.表单数据的双绑定-2修饰符</h3><p>这节我们主要来看一下<code>v-model</code>（数据双向绑定）中的修饰符。但是在学习修饰符前，我们补充一下上节遗漏的知识点。</p>
<p><strong>checkbox里的true-value和false-value</strong></p>
<p>在上节课我们作了复选框选择<code>true</code>和<code>false</code>的情况。新建一个文件，我们重现一下代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html lang=&quot;en&quot;&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-8&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;<br>    &lt;title&gt;Demo23&lt;/title&gt;<br>    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    const app = Vue.createApp(&#123;<br>        data() &#123;<br>            return &#123;<br>                checked: true,<br>            &#125;<br>        &#125;,<br><br>        template: `<br>        &lt;div&gt;&#123;&#123;checked&#125;&#125;&lt;input type=&quot;checkbox&quot; v-model=&quot;checked&quot; /&gt;&lt;/div&gt;<br>        `<br><br>    &#125;)<br>    const vm = app.mount(&quot;#app&quot;)<br><br>&lt;/script&gt;<br><br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>在浏览器中预览时，当选择复选框时，会显示true，没选中显示false。</p>
<p>现在的需求是，我选中的时候显示<code>JSPang.com</code>，没选中的时候显示<code>技术胖</code>。这时候要如何处理那？</p>
<p>Vue给我们提供了这样两个属性<code>true-value</code>和<code>false-value</code>。我们在Data中新声明一个变量name,值为空字符串。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>这时候在模板中编写下面的代码。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">&lt;div&gt;&#123;&#123;name&#125;&#125;</span><br><span class="hljs-string">    &lt;input </span><br><span class="hljs-string">        type=&quot;checkbox&quot; </span><br><span class="hljs-string">        v-model=&quot;name&quot;  </span><br><span class="hljs-string">        true-value=&quot;JSPang.com&quot;</span><br><span class="hljs-string">        false-value=&quot;技术胖&quot;</span><br><span class="hljs-string">        /&gt;&lt;/div&gt;</span><br><span class="hljs-string">`</span><br></code></pre></td></tr></table></figure>
<p>这时候到浏览器中预览，就可以看到，在选择时插值表达式会变成<code>JSPang.com</code>，在没选中时会变成<code>技术胖</code>。</p>
<p>补充的部分就到这里了，下满我们来看一下，<code>v-model</code>数据双向绑定的修饰符。</p>
<p><a target="_blank" rel="noopener" href="https://jspang.com/article/68#toc396">v-model数据双向绑定修饰符</a></p>
<p><strong>lazy修饰符</strong></p>
<p><code>v-model</code>也有很多实用的修饰符，现在就学习一下。第一个修饰符<code>lazy</code>，这个也叫做懒更新修饰符。</p>
<p>我们作一个<code>input</code>的绑定效果，现在data中声明一个<code>message</code>变量，值为空。然后在模板中写一个<code>&lt;input /&gt;</code>并和<code>message</code>进行双向数据绑定。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">checked</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>        <span class="hljs-attr">message</span>:<span class="hljs-string">&#x27;&#x27;</span>,<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>模板中进行双向数据绑定：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message&#125;&#125;&lt;input v-model=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候当你在文本框中输入任何内容的时候，插值表达式会跟着改变。如果你不想马上显示，就可以用<code>lazy</code>修饰符，这样就可以实现当输入完成后，失去焦点再进行改变。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message&#125;&#125;&lt;input v-model.<span class="hljs-property">lazy</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>写完lazy修饰符后，可以看一下效果，这时候的效果就和我们想象的一样了。</p>
<p><strong>number修饰符</strong></p>
<p><code>&lt;input /&gt;</code>输入的内容无论是数字还是字母，最终都会变为<code>字符串</code>。如果想最终输入的变成数字，你就可以使用<code>number</code>修饰符了。</p>
<p>比如我们现在去掉<code>lazy</code>修饰符，直接输入数字，这时候你修改插值表达式的结果，输出当前类型。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;<span class="hljs-keyword">typeof</span> message&#125;&#125;&lt;input v-model=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候你预览，就会发现最终input绑定的值会变成字符串类型。这是html的底层逻辑造成的，这时候我们可以使用<code>number</code>修饰付，解决这个问题。加上<code>number</code>修饰符后，<strong>你输入的值只要是数字</strong>，就变成了number类型。（也就是说，如果你输入的是字母，它还会是字符串类型）</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;<span class="hljs-keyword">typeof</span> message&#125;&#125;&lt;input v-model.<span class="hljs-property">number</span>=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p><strong>trim修饰</strong></p>
<p><code>trim</code>修饰符大家一定不陌生，它是用来消除<code>input</code>框输入内容前后的空格的。现在我们再字符串上输入空格，其实它会在DOM元素上进行增加空格的，这个可以在控制台清楚的看出(详细请看视频操作)。 加入<code>trim</code>修饰符后，Vue就会自动给我们去除前后的空格。</p>
<p>现在data中新声明一个变量，比如叫做<code>message1</code>。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-comment">//......</span><br>        <span class="hljs-attr">message1</span>: <span class="hljs-string">&#x27;JSPang.com&#x27;</span><br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>用法如下:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs jsx">&lt;div&gt;<br>    &#123;&#123;message1&#125;&#125;&lt;input v-model.<span class="hljs-property">trim</span>=<span class="hljs-string">&quot;message1&quot;</span> /&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>
<p>这时候Vue就会自动为我们去除前后空格，但不会去除字符串中间的空格。</p>
<p>好了，这节课就先到这里了。第一季也算结束了，第一季我们主要讲了Vue的基础语法。但是我们会马上开始第二季，这部分我们会全面讲解Vue中的组件概念。我们下一季见了，再见。</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E5%89%8D%E7%AB%AF/" class="category-chain-item">前端</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/JavaScript/">#JavaScript</a>
      
    </div>
  
</div>


              

              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08/14/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="JavaScript基础知识">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">JavaScript基础知识</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08/13/JavaScript-05/" title="JavaScript 05">
                        <span class="hidden-mobile">JavaScript 05</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="vcomment" class="comment"></div> 
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
  <script>
    var notify = '' == true ? true : false;
    var verify = '' == true ? true : false;
      window.onload = function() {
          new Valine({
              el: '#vcomment',
              app_id: "AwHBUAjSP1GvDVpiBgxfS2Pg-gzGzoHsz",
              app_key: "kMsGLN3hzkQJuLrmqQBgquFF",
              placeholder: "说点什么",
              avatar:"retro",
              visitor: true       

          });
      }
  </script>

 
  <noscript>Please enable JavaScript to view the comments</noscript>



  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  




  
  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  
      <script>
        MathJax = {
          tex    : {
            inlineMath: { '[+]': [['$', '$']] }
          },
          loader : {
            load: ['ui/lazy']
          },
          options: {
            renderActions: {
              findScript    : [10, doc => {
                document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                  const display = !!node.type.match(/; *mode=display/);
                  const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                  const text = document.createTextNode('');
                  node.parentNode.replaceChild(text, node);
                  math.start = { node: text, delim: '', n: 0 };
                  math.end = { node: text, delim: '', n: 0 };
                  doc.math.push(math);
                });
              }, '', false],
              insertedScript: [200, () => {
                document.querySelectorAll('mjx-container').forEach(node => {
                  let target = node.parentNode;
                  if (target.nodeName.toLowerCase() === 'li') {
                    target.parentNode.classList.add('has-jax');
                  }
                });
              }, '', false]
            }
          }
        };
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>

  <script defer src="/js/leancloud.js" ></script>




  
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/yinghua.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiantiao.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiaoxingxing.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/caidai.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":-15,"vOffset":-15},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body>
</html>
